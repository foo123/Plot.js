/**
*   Plot.js, version 1.0.0
*   Simple shape sketching and chart / functional graph plotting library which can render to Canvas, SVG and plain HTML
*   https://github.com/foo123/Plot.js
**/
!function(e,t){"use strict";t in e||(e[t]=function(){"use strict";var X=Math,t="prototype",Y=1e-6,p=/\s+/,a=Object[t].hasOwnProperty,r=Object[t].toString;if(!X.hypot){X.hypot=function(e,t){var r=0,n=0,i,o;for(i=0;i<arguments.length;i+=1){o=X.abs(Number(arguments[i]));if(o>r){n*=r/o*(r/o);r=o}n+=o===0&&r===0?0:o/r*(o/r)}return r===1/0?1/0:r*X.sqrt(n)}}function e(e){return function(){throw new Error(e||"Error")}}function n(e){return r.call(e).slice(8,-1)}function B(e){return"Array"===n(e)}function d(e){return"Object"===n(e)}function h(e){return"function"===typeof e}function R(e){return!isNaN(e)&&isFinite(e)}function O(e){var t={},r;for(r in e){if(!a.call(e,r))continue;if(d(e[r]))t[r]=O(e[r]);else t[r]=e[r]}return t}function F(){var e=arguments,t=e.length,r=t?true===e[0]:false,n=r?1:0,i=(t>n?e[n]:{})||{},o,l,s;for(l=n+1;l<t;l++){o=e[l];for(s in o){if(!a.call(o,s))continue;if(r&&d(i[s])&&d(o[s]))i[s]=F(true,i[s],o[s]);else i[s]=o[s]}}return i}function i(r,n){var i=null;return function(){var e=this,t=arguments;clearTimeout(i),i=setTimeout(function(){r.apply(e,t)},n)}}function S(e){if(e){if(255>e[2])return[e[0],e[1],e[2]+1];else if(255>e[1])return[e[0],e[1]+1,0];else if(255>e[0])return[e[0]+1,0,0]}return[0,0,0]}function o(e){return[(e=parseInt("#"===e.charAt(0)?e.slice(1):e,16))>>16&255,e>>8&255,255&e]}function C(e){var t=[Number(e[0]).toString(16),Number(e[1]).toString(16),Number(e[2]).toString(16)];if(1===t[0].length)t[0]="0"+t[0];if(1===t[1].length)t[1]="0"+t[1];if(1===t[2].length)t[2]="0"+t[2];return t[0]+t[1]+t[2]}function s(e){var t,r,n,i=X.round(e[0]),o=X.round(e[1]*255/100),l=X.round(e[2]*255/100);if(o===0){t=r=n=l}else{var s=l,a=(255-o)*l/255,d=(s-a)*(i%60)/60;if(i==360)i=0;if(i<60){t=s;n=a;r=a+d}else if(i<120){r=s;n=a;t=s-d}else if(i<180){r=s;t=a;n=a+d}else if(i<240){n=s;t=a;r=s-d}else if(i<300){n=s;r=a;t=a+d}else if(i<360){t=s;r=a;n=s-d}else{t=0;r=0;n=0}}return[X.round(t),X.round(r),X.round(n)]}function l(e){var t=0,r=0,n=0,i=e[0],o=e[1],l=e[2],s=X.min(i,o,l),a=X.max(i,o,l),d=a-s;if(0!=(n=a));if(0!=(r=0!=a?255*d/a:0))t=i===a?(o-l)/d:o===a?2+(l-i)/d:4+(i-o)/d;else t=-1;if((t*=60)<0)t+=360;return r=100*r/255,n=100*n/255,[X.round(t),X.round(r),X.round(n)]}function W(e,t){t=String(t||"hex").toLowerCase();var r=new Array(e),n=X.min(e,60),i,o,l;for(i=0,o=0;i<e;i++){l=s([o*360/n,100,100]);r[i]="rgb"===t?"rgb("+l.join(",")+")":"#"+C(l);o+=2;if(o>=n)o=o&1?0:1}return r}function c(e){var t,r=new Array(e);for(t=0;t<e;t++)r[t]="Entry: "+String(t+1);return r}function H(e){return e}function u(e){return X.log10(e)}function y(e){return e.x}function x(e){return e.y}function g(t){return function(e){if("number"===typeof e)return t-e;e.y=t-e.y;return e}}function q(e,t,r,n){r=r||0;return true===n?e+r*(t-e):0>r?e:1<r?t:e+r*(t-e)}function f(t,r){if("number"==typeof r)r={x:r,y:r};return{x:function(e){return t.x+r.x*X.cos(e)},y:function(e){return t.y+r.y*X.sin(e)}}}function b(o){return 4<=o.length?function(e){var t=e,r=1-e,n=t*t,i=r*r;return r*i*o[0]+3*i*t*o[1]+3*r*n*o[2]+n*t*o[3]}:3===o.length?function(e){var t=e,r=1-e,n=t*t,i=r*r;return i*o[0]+2*r*t*o[1]+n*o[2]}:2===o.length?function(e){return(1-e)*o[0]+e*o[1]}:function(e){return o[0]||0}}function w(e){var t,r,n,i,o,l,s,a,d=e.length-1;r=new Array(d);n=new Array(d);i=new Array(d);o=new Array(d);l=new Array(d);s=new Array(d);i[0]=0;o[0]=2;l[0]=1;s[0]=e[0]+2*e[1];for(t=1;t<d-1;t++){i[t]=1;o[t]=4;l[t]=1;s[t]=4*e[t]+2*e[t+1]}i[d-1]=2;o[d-1]=7;l[d-1]=0;s[d-1]=8*e[d-1]+e[d];for(t=1;t<d;t++){a=i[t]/o[t-1];o[t]=o[t]-a*l[t-1];s[t]=s[t]-a*s[t-1]}r[d-1]=s[d-1]/o[d-1];for(t=d-2;t>=0;--t)r[t]=(s[t]-l[t]*r[t+1])/o[t];for(t=0;t<d-1;t++)n[t]=2*e[t+1]-r[t+1];n[d-1]=(e[d]+r[d-1])/2;return[r,n]}function m(e){var t,r,n;if(2>=e.length){n=[e]}else{n=[];r=w(e);for(t=0;t<e.length-1;t++)n.push([e[t],r[0][t],r[1][t],e[t+1]])}return n}function v(e){return X.hypot(e[0],e[1])}function D(e,t){return(e[0]*t[0]+e[1]*t[1])/(v(e)*v(t))}function I(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*X.acos(D(e,t))}function L(e,t,r,n,i,o){r=r*X.PI/180;var l=X.sin(r),s=X.cos(r),a=(s*(e.x-o.x)+l*(e.y-o.y))/2,d=(-l*(e.x-o.x)+s*(e.y-o.y))/2,h=t.x,c=t.y,u,p,y,x,g,f,b,w,m,v,L,S,C,k,z,T,A,E,P;w=X.pow(a,2);m=X.pow(d,2);f=X.pow(h,2);b=X.pow(c,2);u=w/f+m/b;if(u>1){p=X.sqrt(u);h*=p;c*=p}f=X.pow(h,2);b=X.pow(c,2);y=(n==i?-1:1)*X.sqrt((f*b-f*m-b*w)/(f*m+b*w));if(isNaN(y))y=0;x=y*h*d/c;g=y*-c*a/h;v=(e.x+o.x)/2+s*x-l*g;L=(e.y+o.y)/2+l*x+s*g;S=I([1,0],[(a-x)/h,(d-g)/c]);C=[(a-x)/h,(d-g)/c];k=[(-a-x)/h,(-d-g)/c];z=I(C,k);P=D(C,k);if(P<=-1)z=X.PI;if(P>=1)z=0;T=h>c?h:c;A=h>c?1:h/c;E=h>c?c/h:1;return[v,L,r,A,E,T,S,z,i]}function k(e,t,r,n,i,o,l){var s=this,a=(t+r)/2,d=o||new U(e.x(t),e.y(t)),h=l||new U(e.x(r),e.y(r)),c=new U(e.x(a),e.y(a));if(0>=i||c.dist(d,h)<=n){return d.eq(c)||h.eq(c)?[d,h]:[d,c,h]}else{return k(e,t,a,n,i-1,d,c).concat(k(e,a,r,n,i-1,c,h).slice(1))}}function z(e,t){t=t||window.event;var r,n,i,o,l,s=e.getBoundingClientRect();if(t.changedTouches&&t.changedTouches.length)r=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY,i=t.changedTouches[0].pageX,o=t.changedTouches[0].pageY;else r=t.clientX,n=t.clientY,i=t.pageX,o=t.pageY;return l=r-s.left,{top:n-s.top,left:l,clientX:r,clientY:n,pageX:i,pageY:o}}function U(e,t){var r=this;if(!(r instanceof U))return new U(e,t);if(e instanceof U){r.x=e.x;r.y=e.y}else if(null!=e&&null!=t){r.x=e;r.y=t}else{r.x=0;r.y=0}}function V(e){var t=this;if(!(t instanceof V))return new V(e);if(e instanceof V){t.v=e.v.slice()}else if(e&&9===e.length){t.v=e}else{t.v=[1,0,0,0,1,0,0,0,1]}}function T(e,t){}function A(e,t){var r=this;if(!(r instanceof A))return new A(e,t);r.renderer=e instanceof A.Renderer?e:new A.Renderer.Html(e||document.body);r.tooltip=document.createElement("div");r.tooltip.className="--plot-tooltip --plot-hide-tooltip";r.tooltip.style.position="absolute";document.body.appendChild(r.tooltip);r.opts=F(true,r.defaultOpts(),t||{})}return U[t]={constructor:U,x:0,y:0,dispose:function(){return this.x=null,this.y=null,this},eq:function(e,t){return 2<=arguments.length?X.hypot(this.x-e.x,this.y-e.y)<=(t||0):this.x===e.x&&this.y===e.y},dist:function(e,t){var r=t.x-e.x,n=t.y-e.y;return X.abs(n*this.x-r*this.y+t.x*e.y-t.y*e.x)/X.hypot(n,r)},apply:function(e,t){return null==t&&(t=e),e instanceof V?e.transform(this):h(e)&&h(t)?new U(e(this.x),t(this.y)):this}},U.isFinite=function(e){return R(e.x)&&R(e.y)},V[t]={constructor:V,v:null,dispose:function(){return this.v=null,this},eq:function(e){var t,r=this.v,n=e.v;for(t=0;t<9;t++)if(r[t]!==n[t])return!1;return!0},mul:function(e){var t,r,n,i=this.v;return e instanceof U||a.call(e,"x")&&a.call(e,"y")?(r=e.x,n=e.y,new U(i[0]*r+i[1]*n+i[2],i[3]*r+i[4]*n+i[5])):e instanceof V?(t=e.v,new V([i[0]*t[0]+i[1]*t[3]+i[2]*t[6],i[0]*t[1]+i[1]*t[4]+i[2]*t[7],i[0]*t[2]+i[1]*t[5]+i[2]*t[8],i[3]*t[0]+i[4]*t[3]+i[5]*t[6],i[3]*t[1]+i[4]*t[4]+i[5]*t[7],i[3]*t[2]+i[4]*t[5]+i[5]*t[8],i[6]*t[0]+i[7]*t[3]+i[8]*t[6],i[6]*t[1]+i[7]*t[4]+i[8]*t[7],i[6]*t[2]+i[7]*t[5]+i[8]*t[8]])):this},skew:function(e,t){return new V([1,e||0,0,t||0,1,0,0,0,1]).mul(this)},scale:function(e,t){return 1===arguments.length&&(t=e),new V([e,0,0,0,t,0,0,0,1]).mul(this)},rotate:function(e){e=e||0;var t=X.sin(e),r=X.cos(e);return new V([r,-t,0,t,r,0,0,0,1]).mul(this)},translate:function(e,t){return new V([1,0,e||0,0,1,t||0,0,0,1]).mul(this)},transform:function(e){return this.mul(e)}},T[t]={constructor:T,container:null,opts:null,drawLayer:null,nextColor:null,hitDict:null,hitTarget:null,handler:null,dispose:function(){var e=this;return e.container&&e.drawLayer&&(e.handler&&(e.drawLayer.removeEventListener("touchstart",e.handler,!1),e.drawLayer.removeEventListener("mouseenter",e.handler,!1),e.drawLayer.removeEventListener("click",e.handler,!1)),e.container.removeChild(e.drawLayer)),e.container=null,e.opts=null,e.drawLayer=null,e.nextColor=null,e.hitDict=null,e.hitTarget=null,e.handler=null,e},defaultOpts:function(){return{background:{color:"#ffffff"},text:{size:12,color:"#000000"},point:{size:4,color:"#000000"},line:{size:1,color:"#000000",style:"solid"},shape:{border:{size:1,color:"#000000",style:"solid"},fill:"none"},label:{text:{size:12,color:"#000000"},border:{size:1,color:"#000000",style:"solid"},fill:"none",padding:{top:0,right:0,bottom:0,left:0}}}},width:function(){return this.drawLayer?this.drawLayer.clientWidth:0},height:function(){return this.drawLayer?this.drawLayer.clientHeight:0},resize:function(){return this},init:e("Method not implemented!"),objAt:e("Method not implemented!"),clear:e("Method not implemented!"),background:e("Method not implemented!"),drawPoint:e("Method not implemented!"),drawLine:e("Method not implemented!"),drawRect:e("Method not implemented!"),drawEllipse:e("Method not implemented!"),drawSector:e("Method not implemented!"),drawArc:e("Method not implemented!"),drawBezier:e("Method not implemented!"),drawText:e("Method not implemented!"),drawLabel:e("Method not implemented!")},T.handler=function(e){var t,r,n=this,i=e.type,o=n.drawLayer===e.target;function l(e,t,r,n){var i;e&&t&&t.extra&&t.extra.listener&&h(t.extra.listener[e])&&(i={localX:r.left,localY:r.top,clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY},t.extra.listener[e](e,t,i,n))}if(o&&("touchstart"===i?(n.drawLayer.addEventListener("touchmove",n.handler,!1),n.drawLayer.addEventListener("touchend",n.handler,!1),n.drawLayer.addEventListener("touchcancel",n.handler,!1)):"touchend"===i||"touchcancel"===i?(n.drawLayer.removeEventListener("touchmove",n.handler,!1),n.drawLayer.removeEventListener("touchend",n.handler,!1),n.drawLayer.removeEventListener("touchcancel",n.handler,!1),n.hitTarget&&(l("leave",n.hitTarget.obj,n.hitTarget.pos,e),n.hitTarget=null)):"mouseenter"===i?(n.drawLayer.addEventListener("mouseleave",n.handler,!1),n.drawLayer.addEventListener("mousemove",n.handler,!1)):"mouseleave"===i&&(n.drawLayer.removeEventListener("mouseleave",n.handler,!1),n.drawLayer.removeEventListener("mousemove",n.handler,!1),n.hitTarget&&(l("leave",n.hitTarget.obj,n.hitTarget.pos,e),n.hitTarget=null))),"touchmove"===i||"mousemove"===i||"click"===i){if(t=function(e,t){t=t||window.event;var r,n,i,o,l,s=e.getBoundingClientRect();o=t.changedTouches&&t.changedTouches.length?(r=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY,i=t.changedTouches[0].pageX,t.changedTouches[0].pageY):(r=t.clientX,n=t.clientY,i=t.pageX,t.pageY);return l=r-s.left,{top:n-s.top,left:l,clientX:r,clientY:n,pageX:i,pageY:o}}(n.drawLayer,e),r=n.objAt(e,t),o&&!r)return;r?(n.hitTarget&&(n.hitTarget.obj!==r?(l("leave",n.hitTarget.obj,n.hitTarget.pos=t,e),n.hitTarget=null):"click"!==i&&l("move",n.hitTarget.obj,n.hitTarget.pos=t,e)),n.hitTarget||(n.hitTarget={obj:r,pos:t},l("enter",n.hitTarget.obj,n.hitTarget.pos=t,e)),"click"===i&&l("click",n.hitTarget.obj,n.hitTarget.pos=t,e)):n.hitTarget&&(l("leave",n.hitTarget.obj,n.hitTarget.pos=t,e),n.hitTarget=null)}},(T.Html=function e(t,r){if(!(this instanceof e))return new e(t,r);this.container=t,this.opts=F(!0,this.defaultOpts(),r||{})})[t]=F(new T,{constructor:T.Html,init:function(){var e=this;return e.drawLayer||(e.nextColor=[0,0,0],e.hitDict={},e.hitTarget=null,e.drawLayer=document.createElement("div"),e.drawLayer.className="--plot-html",e.drawLayer.style.position="absolute",e.drawLayer.style.left="0px",e.drawLayer.style.top="0px",e.drawLayer.style.width="100%",e.drawLayer.style.height="100%",e.drawLayer.style.display="block",e.drawLayer.style.overflow="hidden",e.drawLayer.style.margin="0px",e.drawLayer.style.padding="0px",e.drawLayer.style.border="none",e.drawLayer.style.backgroundColor=e.opts.background.color,e.container.appendChild(e.drawLayer),e.handler=T.handler.bind(e),e.drawLayer.addEventListener("touchstart",e.handler,!1),e.drawLayer.addEventListener("mouseenter",e.handler,!1),e.drawLayer.addEventListener("click",e.handler,!1)),e},objAt:function(e,t){var r=e.target?e.target.hitId:null;return r&&a.call(this.hitDict,r)?this.hitDict[r]:null},clear:function(){var e=this;return e.drawLayer.innerHTML="",e.nextColor=[0,0,0],e.hitDict={},e.hitTarget=null,e},background:function(e){return this.opts.background.color=e,this.drawLayer.style.backgroundColor=this.opts.background.color,this},drawPoint:function(e,t,r,n){var i=this,o=document.createElement("div");return t=null!=t?t:i.opts.point.size,r=String(r||i.opts.point.color).toLowerCase(),o.className="--plot-point",o.style.position="absolute",o.style.display="inline-block",o.style.overflow="hidden",o.style.boxSizing="border-box",o.style.margin="0px",o.style.padding="0px",o.style.width=String(2*t)+"px",o.style.height=String(2*t)+"px",o.style.border="1px solid "+r,o.style.borderRadius="50%",o.style.backgroundColor=r,o.style.left=String(e.x)+"px",o.style.top=String(e.y)+"px",o.style.transformOrigin="left top",o.style.transform="translate(-50%,-50%)",o.hitId=C(i.nextColor=S(i.nextColor)),i.hitDict[o.hitId]={type:"point",pos:e,extra:n||null},i.drawLayer.appendChild(o),i},drawLine:function(e,t,r,n,i,o,l){var s=this,a=document.createElement("div"),d=t.y-e.y,h=t.x-e.x,c=X.hypot(d,h);return r=null!=r?r:s.opts.line.size,n=String(n||s.opts.line.color).toLowerCase(),"dashed"!==(i=String(i||s.opts.line.style).toLowerCase())&&"dotted"!==i&&(i="solid"),a.className="--plot-line",a.style.position="absolute",a.style.display="inline-block",a.style.boxSizing="border-box",a.style.margin="0px",a.style.padding="0px",a.style.border="none",a.style.background="none",a.style.width=String(c)+"px",a.style.height="0px",a.style.borderBottom=String(r)+"px "+i+" "+n,a.style.left=String(e.x)+"px",a.style.top=String(e.y)+"px",a.style.transformOrigin="left top",a.style.transform="rotate("+String(X.atan2(d,h))+"rad)",l?a.hitId=l:(a.hitId=C(s.nextColor=S(s.nextColor)),s.hitDict[a.hitId]={type:"line",pos:[e,t],extra:o||null}),s.drawLayer.appendChild(a),s},drawRect:function(e,t,r,n,i,o,l,s){var a=this,d=document.createElement("div");return n=null!=n?n:a.opts.shape.border.size,i=String(i||a.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||a.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:a.opts.shape.fill).toLowerCase(),d.className="--plot-rectangle",d.style.position="absolute",d.style.display="inline-block",d.style.overflow="hidden",d.style.boxSizing="border-box",d.style.margin="0px",d.style.padding="0px",d.style.background=l||"none",d.style.width=String(t.x)+"px",d.style.height=String(t.y)+"px",d.style.border=0<n?String(n)+"px "+o+" "+i:"none",d.style.left=String(e.x-t.x/2)+"px",d.style.top=String(e.y-t.y/2)+"px",d.style.transformOrigin="center center",d.style.transform="rotate("+String((r||0)*X.PI/180)+"rad)",d.hitId=C(a.nextColor=S(a.nextColor)),a.hitDict[d.hitId]={type:"rect",center:e,side:t,rotation:r,extra:s||null},a.drawLayer.appendChild(d),a},drawEllipse:function(e,t,r,n,i,o,l,s){var a=this,d=document.createElement("div");return n=null!=n?n:a.opts.shape.border.size,i=String(i||a.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||a.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:a.opts.shape.fill).toLowerCase(),d.className="--plot-ellipse",d.style.position="absolute",d.style.display="inline-block",d.style.overflow="hidden",d.style.boxSizing="border-box",d.style.margin="0px",d.style.padding="0px",d.style.background=l||"none",d.style.width=String(2*t.x)+"px",d.style.height=String(2*t.y)+"px",d.style.border=0<n?String(n)+"px "+o+" "+i:"none",d.style.borderRadius="50%",d.style.left=String(e.x-t.x)+"px",d.style.top=String(e.y-t.y)+"px",d.style.transformOrigin="center center",d.style.transform="rotate("+String((r||0)*X.PI/180)+"rad)",d.hitId=C(a.nextColor=S(a.nextColor)),a.hitDict[d.hitId]={type:"ellipse",center:e,radius:t,rotation:r,extra:s||null},a.drawLayer.appendChild(d),a},drawSector:function(e,t,r,n,i,o,l,s,a){var d,h,c,u,p,y,x,g,f,b,w,m,v=this,L=document.createElement("div");return i=null!=i?i:v.opts.shape.border.size,o=String(o||v.opts.shape.border.color).toLowerCase(),"dashed"!==(l=String(l||v.opts.shape.border.style).toLowerCase())&&"dotted"!==l&&(l="solid"),s=String(null!=s?s:v.opts.shape.fill).toLowerCase(),p=r*X.PI/180,u=2*t,c=n*X.PI/180-p,b=e.x,w=e.y,y=b-t,x=w-t,g=b+t,f=w+t,L.className="--plot-sector",L.style.position="absolute",L.style.display="inline-block",L.style.overflow="hidden",L.style.boxSizing="border-box",L.style.margin="0px",L.style.padding="0px",L.style.background=s||"none",L.style.width=String(u)+"px",L.style.height=String(u)+"px",L.style.border=0<i?String(i)+"px "+l+" "+o:"none",L.style.borderRadius="50%",L.style.left=String(y)+"px",L.style.top=String(x)+"px",c+Y<=2*X.PI&&(d={x:g,y:w},m="polygon("+((h={x:b+t*X.cos(c),y:w+t*X.sin(c)}).x<b?[d,{x:b,y:w},h,{x:y,y:h.y},{x:y,y:f},{x:d.x,y:f}]:[d,{x:b,y:w},h,{x:g,y:f}]).map(function(e){return String(e.x-y)+"px "+String(e.y-x)+"px"}).join(",")+")",L.style.WebkitClipPath="border-box "+m,L.style.clipPath="border-box "+m,L.style.transformOrigin="center center",L.style.transform="rotate("+String(p)+"rad)"),L.hitId=C(v.nextColor=S(v.nextColor)),v.hitDict[L.hitId]={type:"sector",center:e,radius:t,a0:r,a1:n,extra:a||null},v.drawLayer.appendChild(L),v},drawArc:function(e,t,r,n,i,o,l,s,a,d){var h,c,u,p,y,x,g,f,b,w=this,m=w.height();for(g=(p=L(e,t,r||0,n?1:0,i?1:0,o))[6],f=p[6]+p[7],b=1-p[8],x=V().scale(p[3],(b?1:-1)*p[4]).rotate(-p[2]).translate(p[0],m-p[1]),y=k(function(t,r){"number"==typeof r&&(r={x:r,y:r});return{x:function(e){return t.x+r.x*X.cos(e)},y:function(e){return t.y+r.y*X.sin(e)}}}({x:0,y:0},{x:p[5],y:p[5]}),b?-g:g,b?-f:f,.1,20).map(function(e){return(e=x.transform(e)).y=m-e.y,e}),l=null!=l?l:w.opts.line.size,s=String(s||w.opts.line.color).toLowerCase(),"dashed"!==(a=String(a||w.opts.line.style).toLowerCase())&&"dotted"!==a&&(a="solid"),h=C(w.nextColor=S(w.nextColor)),w.hitDict[h]={type:"arc",params:[e,t,r,n,i,o],extra:d||null},c=0,u=y.length;c+1<u;c++)w.drawLine(y[c],y[c+1],l,s,a,null,h);return w},drawBezier:function(e,t,r,n,i){var o,l,s,a=this,d=a.height(),h=k({x:b(e.map(y)),y:b(e.map(x).map(g(d)))},0,1,.5,20).map(g(d));for(t=null!=t?t:a.opts.line.size,r=String(r||a.opts.line.color).toLowerCase(),"dashed"!==(n=String(n||a.opts.line.style).toLowerCase())&&"dotted"!==n&&(n="solid"),o=C(a.nextColor=S(a.nextColor)),a.hitDict[o]={type:"bezier",points:e,extra:i||null},l=0,s=h.length;l+1<s;l++)a.drawLine(h[l],h[l+1],t,r,n,null,o);return a},fitText:function(e,t,r,n){var i,o,l,s,a=e.split(p),d=[],h=[],c=0;for(t.style.visibility="hidden",this.drawLayer.appendChild(t),i=0,o=a.length;i<o;i++)l=d.concat(a[i]),t.textContent=l.join(" "),r<(s=t.clientWidth)&&0<d.length?(h.push(d.join(" ")),d=[a[i]]):(d=l,c=X.max(c,s));return d.length&&(h.push(d.join(" ")),c=X.max(c,s)),this.drawLayer.removeChild(t),{lines:h,width:c,height:(h.length-1)*n}},createText:function(e,t,r,n,i){var o,l,s=document.createElement("div");return s.className="--plot-text",s.style.position="absolute",s.style.display="inline-block",s.style.overflow="hidden",s.style.boxSizing="border-box",s.style.margin="0px",s.style.padding="0px",s.style.border="none",s.style.background="none",s.style.color=r,s.style.fontSize=String(t)+"px",s.style.fontFamily="sans-serif",s.style.textAlign="left",s.style.lineHeight=String(i)+"px",(o=document.createElement("span")).style.display="inline-block",o.style.fontSize=String(t)+"px",o.style.fontFamily="sans-serif",o.style.padding="0px",o.style.margin="0px",o.style.border="none",(l=this.fitText(e,o,null==n?1/0:n,i)).el=s,l},drawText:function(e,t,r,n,i){var o,l,s=this;return r=null!=r?r:s.opts.text.size,n=String(n||s.opts.text.color).toLowerCase(),l=1.2*r,(o=s.createText(String(t),r,n,i,l)).el.style.left=String(e.x)+"px",o.el.style.top=String(e.y-r)+"px",o.lines.forEach(function(e){var t=document.createElement("span");t.style.position="relative",t.style.display="block",t.style.padding="0px",t.style.margin="0px",t.style.border="none",t.textContent=e,o.el.appendChild(t)}),s.drawLayer.appendChild(o.el),s},drawLabel:function(e,t,r,n){var i,o,l,s,a,d,h,c=this;return n=F(!0,O(c.opts),n||{}),i="auto"===t.x?1/0:t.x-n.label.padding.left-n.label.padding.right,o=1.2*n.label.text.size,h=c.createText(String(r),n.label.text.size,n.label.text.color,i,o),a="auto"===t.x?h.width+n.label.padding.left+n.label.padding.right:t.x,d="auto"===t.y?h.height+n.label.padding.top+n.label.padding.bottom:t.y,l=e.x,s=e.y,"left"===l?l=0:"right"===l?l=c.width()-a:"center"===l&&(l=(c.width()-a)/2),"top"===s?s=0:"bottom"===s?s=c.height()-d:"center"===s&&(s=(c.height()-d)/2),c.drawRect({x:l+a/2,y:s+d/2},{x:a,y:d},0,n.label.border.size,n.label.border.color,n.label.border.style,n.label.fill),l+=n.label.padding.left,s+=n.label.padding.top,h.el.style.left=String(l)+"px",h.el.style.top=String(s-n.label.text.size)+"px",h.lines.forEach(function(e){var t=document.createElement("span");t.style.position="relative",t.style.display="block",t.style.padding="0px",t.style.margin="0px",t.style.border="none",t.textContent=e,h.el.appendChild(t)}),c.drawLayer.appendChild(h.el),c}}),(T.Canvas=function e(t,r){if(!(this instanceof e))return new e(t,r);this.container=t,this.opts=F(!0,this.defaultOpts(),r||{})})[t]=F(new T,{constructor:T.Canvas,hitCanvas:null,dispose:function(){var e=this;return e.container&&e.hitCanvas&&e.container.removeChild(e.hitCanvas),e.hitCanvas=null,T[t].dispose.call(e)},init:function(){var e=this;return e.drawLayer||(e.nextColor=[0,0,0],e.hitDict={},e.hitTarget=null,e.hitCanvas=document.createElement("canvas"),e.hitCanvas.style.position="absolute",e.hitCanvas.style.left="0px",e.hitCanvas.style.top="0px",e.hitCanvas.style.width="100%",e.hitCanvas.style.height="100%",e.hitCanvas.style.display="block",e.hitCanvas.style.margin="0px",e.hitCanvas.style.padding="0px",e.hitCanvas.style.border="none",e.hitCanvas.style.visibility="hidden",e.container.appendChild(e.hitCanvas),e.drawLayer=document.createElement("canvas"),e.drawLayer.className="--plot-canvas",e.drawLayer.style.position="absolute",e.drawLayer.style.left="0px",e.drawLayer.style.top="0px",e.drawLayer.style.width="100%",e.drawLayer.style.height="100%",e.drawLayer.style.display="block",e.drawLayer.style.margin="0px",e.drawLayer.style.padding="0px",e.drawLayer.style.border="none",e.container.appendChild(e.drawLayer),e.hitCanvas.width=e.width(),e.hitCanvas.height=e.height(),e.drawLayer.width=e.width(),e.drawLayer.height=e.height(),e.handler=T.handler.bind(e),e.drawLayer.addEventListener("touchstart",e.handler,!1),e.drawLayer.addEventListener("mouseenter",e.handler,!1),e.drawLayer.addEventListener("click",e.handler,!1)),e},objAt:function(e,t){var r;return this.hitCanvas&&(r="#"+C(this.hitCanvas.getContext("2d").getImageData(X.round(t.left),X.round(t.top),1,1).data),a.call(this.hitDict,r))?this.hitDict[r]:null},resize:function(){var e=this;return e.drawLayer&&(e.hitCanvas.width=e.width(),e.hitCanvas.height=e.height(),e.drawLayer.width=e.width(),e.drawLayer.height=e.height()),e},clear:function(){var e=this,t=e.drawLayer.getContext("2d");return t.fillStyle=String(e.opts.background.color),t.fillRect(0,0,e.drawLayer.width,e.drawLayer.height),(t=e.hitCanvas.getContext("2d")).clearRect(0,0,e.hitCanvas.width,e.hitCanvas.height),e.nextColor=[0,0,0],e.hitDict={},e.hitTarget=null,e},background:function(e){return this.opts.background.color=e,this},drawPoint:function(e,t,r,n){var i,o=this,l=o.drawLayer.getContext("2d");return t=null!=t?t:o.opts.point.size,r=String(r||o.opts.point.color).toLowerCase(),l.resetTransform(),l.fillStyle=r,l.beginPath(),l.arc(e.x,e.y,t,0,2*X.PI),l.closePath(),l.fill(),i="#"+C(o.nextColor=S(o.nextColor)),o.hitDict[i]={type:"point",pos:e,extra:n||null},(l=o.hitCanvas.getContext("2d")).resetTransform(),l.fillStyle=i,l.beginPath(),l.arc(e.x,e.y,t,0,2*X.PI),l.closePath(),l.fill(),o},drawLine:function(e,t,r,n,i,o){var l,s=this,a=s.drawLayer.getContext("2d");return r=null!=r?r:s.opts.line.size,n=String(n||s.opts.line.color).toLowerCase(),"dashed"!==(i=String(i||s.opts.line.style).toLowerCase())&&"dotted"!==i&&(i="solid"),a.resetTransform(),a.beginPath(),"dashed"===i?a.setLineDash([4,4]):"dotted"===i?a.setLineDash([2,4]):a.setLineDash([]),a.lineWidth=r,a.strokeStyle=n,a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.stroke(),a.closePath(),l="#"+C(s.nextColor=S(s.nextColor)),s.hitDict[l]={type:"line",pos:[e,t],extra:o||null},(a=s.hitCanvas.getContext("2d")).resetTransform(),a.beginPath(),a.lineWidth=r,a.strokeStyle=l,a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.stroke(),a.closePath(),s},drawRect:function(e,t,r,n,i,o,l,s){var a,d=this,h=d.drawLayer.getContext("2d");return n=null!=n?n:d.opts.shape.border.size,i=String(i||d.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||d.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:d.opts.shape.fill).toLowerCase(),h.resetTransform(),h.translate(e.x,e.y),h.rotate((r||0)*X.PI/180),h.beginPath(),0<n&&("dashed"===o?h.setLineDash([4,4]):"dotted"===o?h.setLineDash([2,4]):h.setLineDash([]),h.lineWidth=n,h.strokeStyle=i),h.rect(-t.x/2,-t.y/2,t.x,t.y),l&&"none"!==l&&(h.fillStyle=l,h.fill()),0<n&&h.stroke(),h.closePath(),h.resetTransform(),a="#"+C(d.nextColor=S(d.nextColor)),d.hitDict[a]={type:"rect",center:e,side:t,rotation:r,extra:s||null},(h=d.hitCanvas.getContext("2d")).resetTransform(),h.translate(e.x,e.y),h.rotate((r||0)*X.PI/180),h.beginPath(),0<n&&(h.lineWidth=n,h.strokeStyle=a),h.rect(-t.x/2,-t.y/2,t.x,t.y),h.fillStyle=a,h.fill(),0<n&&h.stroke(),h.closePath(),h.resetTransform(),d},drawEllipse:function(e,t,r,n,i,o,l,s){var a,d=this,h=d.drawLayer.getContext("2d");return n=null!=n?n:d.opts.shape.border.size,i=String(i||d.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||d.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:d.opts.shape.fill).toLowerCase(),h.resetTransform(),h.beginPath(),0<n&&("dashed"===o?h.setLineDash([4,4]):"dotted"===o?h.setLineDash([2,4]):h.setLineDash([]),h.lineWidth=n,h.strokeStyle=i),h.ellipse(e.x,e.y,t.x,t.y,(r||0)*X.PI/180,0,2*X.PI,0),l&&"none"!==l&&(h.fillStyle=l,h.fill()),0<n&&h.stroke(),h.closePath(),h.resetTransform(),a="#"+C(d.nextColor=S(d.nextColor)),d.hitDict[a]={type:"ellipse",center:e,radius:t,rotation:r,extra:s||null},(h=d.hitCanvas.getContext("2d")).resetTransform(),h.beginPath(),0<n&&(h.lineWidth=n,h.strokeStyle=a),h.ellipse(e.x,e.y,t.x,t.y,(r||0)*X.PI/180,0,2*X.PI,0),h.fillStyle=a,h.fill(),0<n&&h.stroke(),h.closePath(),h.resetTransform(),d},drawSector:function(e,t,r,n,i,o,l,s,a){var d,h,c,u=this,p=u.drawLayer.getContext("2d");return i=null!=i?i:u.opts.shape.border.size,o=String(o||u.opts.shape.border.color).toLowerCase(),"dashed"!==(l=String(l||u.opts.shape.border.style).toLowerCase())&&"dotted"!==l&&(l="solid"),s=String(null!=s?s:u.opts.shape.fill).toLowerCase(),h=r*X.PI/180,c=n*X.PI/180,p.resetTransform(),p.beginPath(),0<i&&("dashed"===l?p.setLineDash([4,4]):"dotted"===l?p.setLineDash([2,4]):p.setLineDash([]),p.lineWidth=i,p.strokeStyle=o),p.moveTo(e.x,e.y),p.arc(e.x,e.y,t,h,c,!1),p.closePath(),s&&"none"!==s&&(p.fillStyle=s,p.fill()),0<i&&p.stroke(),p.resetTransform(),d="#"+C(u.nextColor=S(u.nextColor)),u.hitDict[d]={type:"sector",center:e,radius:t,a0:r,a1:n,extra:a||null},(p=u.hitCanvas.getContext("2d")).resetTransform(),p.beginPath(),0<i&&(p.lineWidth=i,p.strokeStyle=d),p.moveTo(e.x,e.y),p.arc(e.x,e.y,t,h,c,!1),p.closePath(),p.fillStyle=d,p.fill(),0<i&&p.stroke(),p.resetTransform(),u},drawArc:function(e,t,r,n,i,o,l,s,a,d){var h,c,u=this,p=u.drawLayer.getContext("2d");return l=null!=l?l:u.opts.line.size,s=String(s||u.opts.line.color).toLowerCase(),a=String(a||u.opts.line.style).toLowerCase(),c=L(e,t,r||0,n?1:0,i?1:0,o),p.resetTransform(),p.beginPath(),"dashed"===a?p.setLineDash([4,4]):"dotted"===a?p.setLineDash([2,4]):p.setLineDash([]),p.lineWidth=l,p.strokeStyle=s,p.translate(c[0],c[1]),p.rotate(c[2]),p.scale(c[3],c[4]),p.arc(0,0,c[5],c[6],c[6]+c[7],1-c[8]),p.stroke(),p.closePath(),p.resetTransform(),h="#"+C(u.nextColor=S(u.nextColor)),u.hitDict[h]={type:"arc",params:[e,t,r,n,i,o],extra:d||null},(p=u.hitCanvas.getContext("2d")).resetTransform(),p.beginPath(),p.lineWidth=l,p.strokeStyle=h,p.translate(c[0],c[1]),p.rotate(c[2]),p.scale(c[3],c[4]),p.arc(0,0,c[5],c[6],c[6]+c[7],1-c[8]),p.stroke(),p.closePath(),p.resetTransform(),u},drawBezier:function(e,t,r,n,i){var o,l=this,s=l.drawLayer.getContext("2d");return t=null!=t?t:l.opts.line.size,r=String(r||l.opts.line.color).toLowerCase(),"dashed"!==(n=String(n||l.opts.line.style).toLowerCase())&&"dotted"!==n&&(n="solid"),s.resetTransform(),s.beginPath(),"dashed"===n?s.setLineDash([4,4]):"dotted"===n?s.setLineDash([2,4]):s.setLineDash([]),s.lineWidth=t,s.strokeStyle=r,s.moveTo(e[0].x,e[0].y),s.bezierCurveTo(e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y),s.stroke(),s.closePath(),o="#"+C(l.nextColor=S(l.nextColor)),l.hitDict[o]={type:"bezier",points:e,extra:i||null},(s=l.hitCanvas.getContext("2d")).resetTransform(),s.beginPath(),s.lineWidth=t,s.strokeStyle=o,s.moveTo(e[0].x,e[0].y),s.bezierCurveTo(e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y),s.stroke(),s.closePath(),l},fitText:function(e,t,r,n){var i,o,l,s,a=e.split(p),d=[],h=[],c=0;for(i=0,o=a.length;i<o;i++)l=d.concat(a[i]),r<(s=t.measureText(l.join(" ")).width)&&0<d.length?(h.push(d.join(" ")),d=[a[i]]):(d=l,c=X.max(c,s));return d.length&&(h.push(d.join(" ")),c=X.max(c,s)),{lines:h,width:c,height:(h.length-1)*n}},createText:function(e,t,r,n,i){var o,l=this.drawLayer.getContext("2d");return l.resetTransform(),l.font=String(t)+"px sans-serif",l.fillStyle=r,(o=this.fitText(e,l,null==n?1/0:n,i)).el=l,o},drawText:function(t,e,r,n,i){var o,l,s=0;return r=null!=r?r:this.opts.text.size,n=String(n||this.opts.text.color).toLowerCase(),l=1.2*r,(o=this.createText(String(e),r,n,i,l)).lines.forEach(function(e){o.el.fillText(e,t.x,t.y+s),s+=l}),this},drawLabel:function(e,t,r,n){var i,o,l,s,a,d,h,c=this,u=0;return n=F(!0,O(c.opts),n||{}),i="auto"===t.x?1/0:t.x-n.label.padding.left-n.label.padding.right,o=1.2*n.label.text.size,(h=c.createText(String(r),n.label.text.size,n.label.text.color,i,o)).el.save(),a="auto"===t.x?h.width+n.label.padding.left+n.label.padding.right:t.x,d="auto"===t.y?h.height+n.label.padding.top+n.label.padding.bottom:t.y,l=e.x,s=e.y,"left"===l?l=0:"right"===l?l=c.width()-a:"center"===l&&(l=(c.width()-a)/2),"top"===s?s=0:"bottom"===s?s=c.height()-d:"center"===s&&(s=(c.height()-d)/2),c.drawRect({x:l+a/2,y:s+d/2},{x:a,y:d},0,n.label.border.size,n.label.border.color,n.label.border.style,n.label.fill),l+=n.label.padding.left,s+=n.label.padding.top,h.el.restore(),h.lines.forEach(function(e){h.el.fillText(e,l,s+u),u+=o}),c}}),(T.Svg=function e(t,r){if(!(this instanceof e))return new e(t,r);this.container=t,this.opts=F(!0,this.defaultOpts(),r||{})})[t]=F(new T,{constructor:T.Svg,NS:"http://www.w3.org/2000/svg",init:function(){var e=this;return e.drawLayer||(e.nextColor=[0,0,0],e.hitDict={},e.hitTarget=null,e.drawLayer=document.createElementNS(e.NS,"svg"),e.drawLayer.setAttribute("class","--plot-svg"),e.drawLayer.style.position="absolute",e.drawLayer.style.left="0px",e.drawLayer.style.top="0px",e.drawLayer.style.width="100%",e.drawLayer.style.height="100%",e.drawLayer.style.display="block",e.drawLayer.style.overflow="hidden",e.drawLayer.style.margin="0px",e.drawLayer.style.padding="0px",e.drawLayer.style.border="none",e.drawLayer.style.backgroundColor=e.opts.background.color,e.container.appendChild(e.drawLayer),e.drawLayer.setAttribute("viewBox","0 0 "+String(e.width())+" "+String(e.height())),e.handler=T.handler.bind(e),e.drawLayer.addEventListener("touchstart",e.handler,!1),e.drawLayer.addEventListener("mouseenter",e.handler,!1),e.drawLayer.addEventListener("click",e.handler,!1)),e},objAt:function(e,t){var r=e.target?e.target.hitId:null;return r&&a.call(this.hitDict,r)?this.hitDict[r]:null},resize:function(){var e=this;return e.drawLayer&&e.drawLayer.setAttribute("viewBox","0 0 "+String(e.width())+" "+String(e.height())),e},clear:function(){var e=this;return e.drawLayer.innerHTML="",e.nextColor=[0,0,0],e.hitDict={},e.hitTarget=null,e},background:function(e){return this.opts.background.color=e,this.drawLayer.style.backgroundColor=this.opts.background.color,this},drawPoint:function(e,t,r,n){var i=this,o=document.createElementNS(i.NS,"circle");return t=null!=t?t:i.opts.point.size,r=String(r||i.opts.point.color).toLowerCase(),o.setAttribute("class","--plot-point"),o.setAttribute("cx",String(e.x)),o.setAttribute("cy",String(e.y)),o.setAttribute("r",String(t)),o.setAttribute("stroke-width","1px"),o.setAttribute("stroke",r),o.setAttribute("fill",r),o.hitId=C(i.nextColor=S(i.nextColor)),i.hitDict[o.hitId]={type:"point",pos:e,extra:n||null},i.drawLayer.appendChild(o),i},drawLine:function(e,t,r,n,i,o){var l=this,s=document.createElementNS(l.NS,"line");return r=null!=r?r:l.opts.line.size,n=String(n||l.opts.line.color).toLowerCase(),"dashed"!==(i=String(i||l.opts.line.style).toLowerCase())&&"dotted"!==i&&(i="solid"),s.setAttribute("class","--plot-line"),s.setAttribute("x1",String(e.x)),s.setAttribute("y1",String(e.y)),s.setAttribute("x2",String(t.x)),s.setAttribute("y2",String(t.y)),s.setAttribute("stroke-width",String(r)+"px"),s.setAttribute("stroke",n),"dashed"===i?s.setAttribute("stroke-dasharray","4 4"):"dotted"===i&&s.setAttribute("stroke-dasharray","2 4"),s.hitId=C(l.nextColor=S(l.nextColor)),l.hitDict[s.hitId]={type:"line",pos:[e,t],extra:o||null},l.drawLayer.appendChild(s),l},drawRect:function(e,t,r,n,i,o,l,s){var a=this,d=document.createElementNS(a.NS,"rect");return n=null!=n?n:a.opts.shape.border.size,i=String(i||a.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||a.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:a.opts.shape.fill).toLowerCase(),d.setAttribute("class","--plot-rectangle"),d.setAttribute("x",String(e.x-t.x/2)),d.setAttribute("y",String(e.y-t.y/2)),d.setAttribute("width",String(t.x)),d.setAttribute("height",String(t.y)),d.setAttribute("transform","rotate("+String(r||0)+" "+String(e.x)+" "+String(e.y)+")"),0<n&&(d.setAttribute("stroke-width",String(n)+"px"),d.setAttribute("stroke",i),"dashed"===o?d.setAttribute("stroke-dasharray","4 4"):"dotted"===o&&d.setAttribute("stroke-dasharray","2 4")),d.setAttribute("fill",l||"none"),d.hitId=C(a.nextColor=S(a.nextColor)),a.hitDict[d.hitId]={type:"rect",center:e,side:t,rotation:r,extra:s||null},a.drawLayer.appendChild(d),a},drawEllipse:function(e,t,r,n,i,o,l,s){var a=this,d=document.createElementNS(a.NS,"ellipse");return n=null!=n?n:a.opts.shape.border.size,i=String(i||a.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||a.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:a.opts.shape.fill).toLowerCase(),d.setAttribute("class","--plot-ellipse"),d.setAttribute("cx",String(e.x)),d.setAttribute("cy",String(e.y)),d.setAttribute("rx",String(t.x)),d.setAttribute("ry",String(t.y)),d.setAttribute("transform","rotate("+String(r||0)+" "+String(e.x)+" "+String(e.y)+")"),0<n&&(d.setAttribute("stroke-width",String(n)+"px"),d.setAttribute("stroke",i),"dashed"===o?d.setAttribute("stroke-dasharray","4 4"):"dotted"===o&&d.setAttribute("stroke-dasharray","2 4")),d.setAttribute("fill",l||"none"),d.hitId=C(a.nextColor=S(a.nextColor)),a.hitDict[d.hitId]={type:"ellipse",center:e,radius:t,rotation:r,extra:s||null},a.drawLayer.appendChild(d),a},drawSector:function(e,t,r,n,i,o,l,s,a){var d,h,c,u,p,y,x,g,f=this;return i=null!=i?i:f.opts.shape.border.size,o=String(o||f.opts.shape.border.color).toLowerCase(),"dashed"!==(l=String(l||f.opts.shape.border.style).toLowerCase())&&"dotted"!==l&&(l="solid"),s=String(null!=s?s:f.opts.shape.fill).toLowerCase(),d=r*X.PI/180,h=n*X.PI/180-d,c=e.x,u=e.y,g=C(f.nextColor=S(f.nextColor)),h+Y>2*X.PI?((x=document.createElementNS(f.NS,"ellipse")).setAttribute("cx",String(c)),x.setAttribute("cy",String(u)),x.setAttribute("rx",String(t)),x.setAttribute("ry",String(t))):(p={x:c+t,y:u},y={x:c+t*X.cos(h),y:u+t*X.sin(h)},(x=document.createElementNS(f.NS,"path")).setAttribute("d","M "+String(c)+" "+String(u)+" L "+String(p.x)+" "+String(p.y)+" A "+String(t)+" "+String(t)+" 0 "+String(h>=X.PI?1:0)+" 1 "+String(y.x)+" "+String(y.y)+" L "+String(c)+" "+String(u)+" Z"),x.setAttribute("transform","rotate("+String(r)+" "+String(c)+" "+String(u)+")")),x.setAttribute("class","--plot-sector"),x.setAttribute("stroke-width",String(i)+"px"),x.setAttribute("stroke",o),x.setAttribute("fill",s),"dashed"===l?x.setAttribute("stroke-dasharray","4 4"):"dotted"===l&&x.setAttribute("stroke-dasharray","2 4"),x.hitId=g,f.hitDict[x.hitId]={type:"sector",center:e,radius:t,a0:r,a1:n,extra:a||null},f.drawLayer.appendChild(x),f},drawArc:function(e,t,r,n,i,o,l,s,a,d){var h=this,c=document.createElementNS(h.NS,"path");return l=null!=l?l:h.opts.line.size,s=String(s||h.opts.line.color).toLowerCase(),"dashed"!==(a=String(a||h.opts.line.style).toLowerCase())&&"dotted"!==a&&(a="solid"),c.setAttribute("class","--plot-arc"),c.setAttribute("d","M "+String(e.x)+" "+String(e.y)+" A "+String(t.x)+" "+String(t.y)+" "+String(r||0)+" "+String(n?1:0)+" "+String(i?1:0)+" "+String(o.x)+" "+String(o.y)),c.setAttribute("stroke-width",String(l)+"px"),c.setAttribute("stroke",s),c.setAttribute("fill","none"),"dashed"===a?c.setAttribute("stroke-dasharray","4 4"):"dotted"===a&&c.setAttribute("stroke-dasharray","2 4"),c.hitId=C(h.nextColor=S(h.nextColor)),h.hitDict[c.hitId]={type:"arc",params:[e,t,r,n,i,o],extra:d||null},h.drawLayer.appendChild(c),h},drawBezier:function(e,t,r,n,i){var o=this,l=document.createElementNS(o.NS,"path");return t=null!=t?t:o.opts.line.size,r=String(r||o.opts.line.color).toLowerCase(),"dashed"!==(n=String(n||o.opts.line.style).toLowerCase())&&"dotted"!==n&&(n="solid"),l.setAttribute("class","--plot-bezier"),l.setAttribute("d","M "+String(e[0].x)+","+String(e[0].y)+" C "+String(e[1].x)+","+String(e[1].y)+" "+String(e[2].x)+","+String(e[2].y)+" "+String(e[3].x)+","+String(e[3].y)),l.setAttribute("stroke-width",String(t)+"px"),l.setAttribute("stroke",r),"dashed"===n?l.setAttribute("stroke-dasharray","4 4"):"dotted"===n&&l.setAttribute("stroke-dasharray","2 4"),l.hitId=C(o.nextColor=S(o.nextColor)),o.hitDict[l.hitId]={type:"bezier",points:e,extra:i||null},o.drawLayer.appendChild(l),o},fitText:function(e,t,r,n){var i,o,l,s,a,d=e.split(p),h=[],c=[],u=0;for(t.style.visibility="hidden",this.drawLayer.appendChild(t),i=0,o=d.length;i<o;i++)l=h.concat(d[i]),t.textContent=l.join(" "),s=t.getBBox(),r<(a=X.round(s.width))&&0<h.length?(c.push(h.join(" ")),h=[d[i]]):(h=l,u=X.max(u,a));return h.length&&(c.push(h.join(" ")),u=X.max(u,a)),this.drawLayer.removeChild(t),{lines:c,width:u,height:(c.length-1)*n}},createText:function(e,t,r,n,i){var o,l=document.createElementNS(this.NS,"text");return l.setAttribute("class","--plot-text"),l.setAttribute("fill",r),l.style.fontSize=String(t)+"px",l.style.fontFamily="sans-serif",(o=this.fitText(e,l.cloneNode(!1),null==n?1/0:n,i)).el=l,o},drawText:function(r,e,t,n,i){var o,l,s=this,a=0;return t=null!=t?t:s.opts.text.size,n=String(n||s.opts.text.color).toLowerCase(),l=1.2*t,(o=s.createText(String(e),t,n,i,l)).el.setAttribute("x",r.x),o.el.setAttribute("y",r.y),o.lines.forEach(function(e){var t=document.createElementNS(s.NS,"tspan");t.setAttribute("x",r.x),t.setAttribute("dy",a),t.textContent=e,o.el.appendChild(t),0===a&&(a=l)}),s.drawLayer.appendChild(o.el),s},drawLabel:function(e,t,r,n){var i,o,l,s,a,d,h,c=this,u=0;return n=F(!0,O(c.opts),n||{}),i="auto"===t.x?1/0:t.x-n.label.padding.left-n.label.padding.right,o=1.2*n.label.text.size,h=c.createText(String(r),n.label.text.size,n.label.text.color,i,o),a="auto"===t.x?h.width+n.label.padding.left+n.label.padding.right:t.x,d="auto"===t.y?h.height+n.label.padding.top+n.label.padding.bottom:t.y,l=e.x,s=e.y,"left"===l?l=0:"right"===l?l=c.width()-a:"center"===l&&(l=(c.width()-a)/2),"top"===s?s=0:"bottom"===s?s=c.height()-d:"center"===s&&(s=(c.height()-d)/2),c.drawRect({x:l+a/2,y:s+d/2},{x:a,y:d},0,n.label.border.size,n.label.border.color,n.label.border.style,n.label.fill),l+=n.label.padding.left,s+=n.label.padding.top,h.el.setAttribute("x",l),h.el.setAttribute("y",s),h.lines.forEach(function(e){var t=document.createElementNS(c.NS,"tspan");t.setAttribute("x",l),t.setAttribute("dy",u),t.textContent=e,h.el.appendChild(t),0===u&&(u=o)}),c.drawLayer.appendChild(h.el),c}}),A[t]={constructor:A,renderer:null,opts:null,dispose:function(){var e=this;return e.tooltip&&document.body.removeChild(e.tooltip),e.renderer=null,e.tooltip=null,e.opts=null,e},defaultOpts:function(){return{tolerance:.001,depth:20,npoints:60,background:{color:"#ffffff"},padding:{top:20,right:20,bottom:20,left:20},text:{size:14,color:"#000000"},point:{size:4,color:"#000000"},line:{size:1,color:"#000000",style:"solid"},shape:{border:{size:1,color:"#000000",style:"solid"},fill:"none"},label:{text:{size:14,color:"#000000"},border:{size:1,color:"#000000",style:"solid"},fill:"none",padding:{top:20,right:20,bottom:20,left:20}},colors:null,labels:null,axes:{x:{size:2,color:"#000000",style:"solid",ticks:{size:1,color:"rgba(0,0,0,0.5)",style:"dashed",text:{size:16,color:"#000000"},step:"auto",scale:"linear"}},y:{size:2,color:"#000000",style:"solid",ticks:{size:1,color:"rgba(0,0,0,0.5)",style:"dashed",text:{size:16,color:"#000000"},step:"auto",scale:"linear"}}}}},boundingBox:function(e){var t,r,n,i,o,l=e.length;if("number"==typeof e[0]){for(r=1/0,i=-1/0,t=0;t<l;t++)R(e[t])&&(e[t]<r&&(r=e[t]),e[t]>i&&(i=e[t]));return{min:r,max:i}}for(n=r=1/0,o=i=-1/0,t=0;t<l;t++)U.isFinite(e[t])&&(e[t].x<r&&(r=e[t].x),e[t].y<n&&(n=e[t].y),e[t].x>i&&(i=e[t].x),e[t].y>o&&(o=e[t].y));return{min:{x:r,y:n},max:{x:i,y:o}}},sample:function(e,t,r,n){var i,o,l,s,a;for(n=F(O(this.opts),n||{}),null==t&&(t=0),null==r&&(r=t+1),e=h(e.x)&&h(e.y)?e:{x:H,y:e},s=(r-t)/(a=X.ceil(2*n.npoints/3)),i=[],l=0;l<a;l++)o=k(e,t+l*s,t+(l+1)*s,n.tolerance,n.depth),i=i.concat(0<l?o.slice(1):o);return i},width:function(){return this.renderer.init().width()},height:function(){return this.renderer.init().height()},resize:function(){return this.renderer.init().resize(),this},clear:function(){return this.renderer.init().background(this.opts.background.color).clear(),this},text:function(e,t,r){return r=F(!0,O(this.opts),r||{}),this.renderer.init(),this.renderer.drawText(e,t,r.text.size,r.text.color),this},point:function(e,t){var r,n;for(t=F(!0,O(this.opts),t||{}),this.renderer.init(),B(e)||(e=[e]),r=0,n=e.length;r<n;r++)U.isFinite(e[r])&&this.renderer.drawPoint(e[r],t.point.size,t.point.color);return this},line:function(e,t){var r,n;for(t=F(!0,O(this.opts),t||{}),this.renderer.init(),B(e)||(e=[e]),r=0,n=e.length;r+1<n;r++)U.isFinite(e[r])&&U.isFinite(e[r+1])&&this.renderer.drawLine(e[r],e[r+1],t.line.size,t.line.color,t.line.style);return this},rectangle:function(t,r,n,i){var o=this;return o.renderer.init(),arguments.length<=2&&B(t)?(i=F(!0,O(o.opts),r||{}),t.forEach(function(e){i=F(!0,i,e[3]||{}),n=e[2],"number"==typeof(r=e[1])&&(r={x:r,y:r}),t=e[0],o.renderer.drawRect(t,r,n||0,i.shape.border.size,i.shape.border.color,i.shape.border.style,i.shape.fill)})):(i=F(!0,O(o.opts),i||{}),o.renderer.drawRect(t,r,n||0,i.shape.border.size,i.shape.border.color,i.shape.border.style,i.shape.fill)),o},ellipse:function(t,r,n,i){var o=this;return o.renderer.init(),arguments.length<=2&&B(t)?(i=F(!0,O(o.opts),r||{}),t.forEach(function(e){i=F(!0,i,e[3]||{}),n=e[2],"number"==typeof(r=e[1])&&(r={x:r,y:r}),t=e[0],o.renderer.drawEllipse(t,r,n||0,i.shape.border.size,i.shape.border.color,i.shape.border.style,i.shape.fill)})):(i=F(!0,O(o.opts),i||{}),"number"==typeof r&&(r={x:r,y:r}),o.renderer.drawEllipse(t,r,n||0,i.shape.border.size,i.shape.border.color,i.shape.border.style,i.shape.fill)),o},sector:function(t,r,n,i,o){var l=this;return l.renderer.init(),arguments.length<=2&&B(t)?(o=F(!0,O(l.opts),r||{}),t.forEach(function(e){o=F(!0,o,e[4]||{}),i=e[3],n=e[2],r=e[1],t=e[0],l.renderer.drawSector(t,+r,+n,+i,o.shape.border.size,o.shape.border.color,o.shape.border.style,o.shape.fill)})):(o=F(!0,O(l.opts),o||{}),l.renderer.drawSector(t,+r,+n,+i,o.shape.border.size,o.shape.border.color,o.shape.border.style,o.shape.fill)),l},arc:function(t,r,n,i,o,l,s){var a=this;return a.renderer.init(),arguments.length<=2&&B(t)?(s=F(!0,O(a.opts),r||{}),t.forEach(function(e){s=F(!0,s,e[6]||{}),l=e[5],o=e[4],i=e[3],n=e[2],"number"==typeof(r=e[1])&&(r={x:r,y:r}),t=e[0],a.renderer.drawArc(t,r,+(n||0),i?1:0,o?1:0,l,s.line.size,s.line.color,s.line.style)})):(s=F(!0,O(a.opts),s||{}),"number"==typeof r&&(r={x:r,y:r}),a.renderer.drawArc(t,r,+(n||0),i?1:0,o?1:0,l,s.line.size,s.line.color,s.line.style)),a},bezier:function(e,t){var r=this;return t=F(!0,O(r.opts),t||{}),r.renderer.init(),B(e)||(e=[e]),2===e.length?r.renderer.drawLine(e[0],e[1],t.line.size,t.line.color,t.line.style):4<=e.length&&r.renderer.drawBezier(e,t.line.size,t.line.color,t.line.style),r},spline:function(e,t){B(e)||(e=[e]);var r,n,i,o=this,l={x:m(e.map(y)),y:m(e.map(x))};if(n=(i=l.x.reduce(function(e,t,n){return t.reduce(function(e,t,r){return e.push(new U(l.x[n][r],l.y[n][r])),e},e)},[])).length,t=F(!0,O(o.opts),t||{}),o.renderer.init(),2===n)o.renderer.drawLine(i[0],i[1],t.line.size,t.line.color,t.line.style);else if(4<=i.length)for(r=0;r<n;r+=4)o.renderer.drawBezier([i[r],i[r+1],i[r+2],i[r+3]],t.line.size,t.line.color,t.line.style);return o},label:function(e,t,r,n){return this.renderer.init(),this.renderer.drawLabel(e,t,r,F(!0,O(this.opts),n||{})),this},graph:function(e,t,r,n){var i,o,l,s,a,d,h,c,u,p,y,x,g,f,b,w,m,v,L,S,C,k,z,T,A,E,P,D,I=this,N=[],j=[],M=[],R=[];if((n=F(!0,O(I.opts),n||{})).axes&&n.axes.x&&n.axes.x.ticks&&n.axes.x.ticks.scale,b=H,n.axes&&n.axes.y&&n.axes.y.ticks&&n.axes.y.ticks.scale,w=H,p=X.max(0,n.padding&&n.padding.left||0),y=X.max(0,n.padding&&n.padding.right||0),x=X.max(0,n.padding&&n.padding.top||0),g=X.max(0,n.padding&&n.padding.bottom||0),o=(i=B(e)?e:I.sample(e,t,r,n)).map(function(e){return e.apply(b,w)}),I.renderer.init(),s=I.renderer.width(),a=I.renderer.height(),d=(f=I.boundingBox(o)).max.x-f.min.x+Y,h=f.max.y-f.min.y+Y,u=X.min((s-p-y)/d,(a-x-g)/h),c=(l=(new V).translate(-f.min.x,-f.min.y).scale(u).translate(p+(s-p-y-u*d)/2,x+(a-x-g-u*h)/2)).transform(new U(0,0)).apply(X.round),n.axes){if(n.axes.y&&n.axes.y.ticks&&(S="auto"===n.axes.y.ticks.step?h/8:n.axes.y.ticks.step,0<(z=X.round(u*S))))for(C=c.y,E=0,a<C&&(E-=P=X.ceil((C-a)/z),C-=P*z),C<0&&(E+=P=X.ceil(-C/z),C+=P*z),T=C===c.y?1:0,k=C+(A=-1)*z,m=w(C+=T*z),v=w(k);m<=a-g||x<=v;)x<=m&&m<=a-g&&(I.renderer.drawLine({x:p,y:a-m},{x:s-y,y:a-m},n.axes.y.ticks.size,n.axes.y.ticks.color,n.axes.y.ticks.style),j.push({y:a-m,v:(E+T)*S})),x<=v&&v<=a-g&&(I.renderer.drawLine({x:p,y:a-v},{x:s-y,y:a-v},n.axes.y.ticks.size,n.axes.y.ticks.color,n.axes.y.ticks.style),R.push({y:a-v,v:(E+A)*S})),k-=z,T++,A--,m=w(C+=z),v=w(k);if(n.axes.x&&n.axes.x.ticks&&(L="auto"===n.axes.x.ticks.step?d/8:n.axes.x.ticks.step,0<(z=X.round(u*L))))for(E=0,s<(C=c.x)&&(E-=P=X.ceil((C-s)/z),C-=P*z),C<0&&(E+=P=X.ceil(-C/z),C+=P*z),T=C===c.x?1:0,k=C+(A=-1)*z,m=b(C+=T*z),v=b(k);m<=s-y||p<=v;)p<=m&&m<=s-y&&(I.renderer.drawLine({x:m,y:a-g},{x:m,y:x},n.axes.x.ticks.size,n.axes.x.ticks.color,n.axes.x.ticks.style),N.push({x:m,v:(E+T)*L})),p<=v&&v<=a-y&&(I.renderer.drawLine({x:v,y:a-g},{x:v,y:x},n.axes.x.ticks.size,n.axes.x.ticks.color,n.axes.x.ticks.style),M.push({x:v,v:(E+A)*L})),k-=z,T++,A--,m=b(C+=z),v=b(k);n.axes.x&&c.y>=x&&c.y<=a-g&&I.renderer.drawLine({x:p,y:a-c.y},{x:s-y,y:a-c.y},n.axes.x.size,n.axes.x.color,n.axes.x.style),n.axes.y&&c.x>=p&&c.x<=s-y&&I.renderer.drawLine({x:c.x,y:x},{x:c.x,y:a-g},n.axes.y.size,n.axes.y.color,n.axes.y.style)}for(D=function(e,t,r,n){var i,o=I.tooltip;if("enter"===e)o.classList.remove("--plot-hide-tooltip"),o.classList.add("--plot-show-tooltip");else if("leave"===e)return o.classList.remove("--plot-show-tooltip"),void o.classList.add("--plot-hide-tooltip");i=(r.localX-t.pos[0].x)/(t.pos[1].x-t.pos[0].x),o.innerHTML="x: "+String(q(t.extra.p1.x,t.extra.p2.x,i))+"<br />y: "+String(q(t.extra.p1.y,t.extra.p2.y,i)),o.style.left=String(r.pageX)+"px",o.style.top=String(r.pageY)+"px"},T=0,E=(o=(o=o.map(function(e){return l.transform(e)})).map(function(e){return e.y=a-e.y,e})).length;T+1<E;T++)U.isFinite(o[T])&&U.isFinite(o[T+1])&&I.renderer.drawLine(o[T],o[T+1],n.line.size,n.line.color,n.line.style,{p1:i[T],p2:i[T+1],listener:{enter:D,leave:D,move:D}});if(n.axes){if(n.axes.x&&n.axes.x.ticks&&n.axes.x.ticks.text&&0<n.axes.x.ticks.text.size&&(N.length||M.length)){for(C=c.y>=x&&c.y<=a-g?a-c.y-5:a-g-5,z=X.ceil(N.length/3),T=0;T<N.length;T+=z)0!==N[T].v&&I.renderer.drawText({x:N[T].x+2,y:C},N[T].v,n.axes.x.ticks.text.size,n.axes.x.ticks.text.color);for(z=X.ceil(M.length/3),T=0;T<M.length;T+=z)0!==M[T].v&&I.renderer.drawText({x:M[T].x+2,y:C},M[T].v,n.axes.x.ticks.text.size,n.axes.x.ticks.text.color)}if(n.axes.y&&n.axes.y.ticks&&n.axes.y.ticks.text&&0<n.axes.y.ticks.text.size&&(j.length||R.length)){for(C=c.x>=p&&c.x<=s-y?c.x+5:p+5,z=X.ceil(j.length/3),T=0;T<j.length;T+=z)0!==j[T].v&&I.renderer.drawText({x:C,y:j[T].y-2},j[T].v,n.axes.y.ticks.text.size,n.axes.y.ticks.text.color);for(z=X.ceil(R.length/3),T=0;T<R.length;T+=z)0!==R[T].v&&I.renderer.drawText({x:C,y:R[T].y-2},R[T].v,n.axes.y.ticks.text.size,n.axes.y.ticks.text.color)}}return I},chart:function(e,t,r){var n,i,o,l,s,a,d,h,c,u,p,y,x,g,f,b,w,m,v,L,S,C,k,z,T,A,E,P=this,D=[],I=[],N=null,j=null,M=null;if("bar"===(e=String(e||"vbar").toLowerCase())&&(e="vbar"),(r=F(!0,O(P.opts),r||{})).colors=r.colors||W(t.length),r.labels=r.labels||function(e){var t,r=new Array(e);for(t=0;t<e;t++)r[t]="Entry: "+String(t+1);return r}(t.length),C=X.max(0,r.padding&&r.padding.left||0),k=X.max(0,r.padding&&r.padding.right||0),z=X.max(0,r.padding&&r.padding.top||0),T=X.max(0,r.padding&&r.padding.bottom||0),b=t.length,P.renderer.init(),i=P.renderer.width(),o=P.renderer.height(),"pie"===e||"doughnut"===e)for(g=j=0;g<t.length;g++)j+=R(t[g])?X.abs(t[g]):0;else{if("hbar"===e?N=(r.axes&&r.axes.x?r.axes.x.ticks:null)||null:"vbar"!==e&&"line"!==e||(N=(r.axes&&r.axes.y?r.axes.y.ticks:null)||null),n=t.map(function(e,t){return new U(t,e)}),M=P.boundingBox(n),y="hbar"===e?(v=i,L=C,S=k,N&&N.text&&0<N.text.size&&(A=o-T-2,T+=2*N.text.size),X.max(1,(o-T-z)/(b+.2*(b-1)))):(v=o,L=z,S=T,N&&N.text&&0<N.text.size&&(A=C+2,C+=2*N.text.size),"line"===e?X.max(1,(i-C-k)/b):X.max(1,(i-C-k)/(b+.2*(b-1)))),d=M.min.y<0?-M.min.y:0,a=L+(s=(v-L-S)/(h=M.max.y+d))*d,x=y/2,l=(new V).scale(1,s),r.axes&&N&&(m="auto"===N.step?h/8:N.step,0<(p=X.round(s*m))))for(b=0,v<(c=a)&&(b-=w=X.ceil((c-v)/p),c-=w*p),c<0&&(b+=w=X.ceil(-c/p),c+=w*p),u=c+(f=-1)*p,c+=(g=c===a?1:0)*p;c<=v-S||L<=u;)L<=c&&c<=v-S&&(P.renderer.drawLine("hbar"===e?{y:z,x:c}:{x:C,y:o-c},"hbar"===e?{y:o-T,x:c}:{x:i-k,y:o-c},N.size,N.color,N.style),D.push({p:"hbar"===e?c:o-c,v:(b+g)*m})),L<=u&&u<=v-S&&(P.renderer.drawLine("hbar"===e?{y:z,x:u}:{x:C,y:o-u},"hbar"===e?{y:o-T,x:u}:{x:i-k,y:o-u},N.size,N.color,N.style),I.push({p:"hbar"===e?u:o-u,v:(b+f)*m})),c+=p,u-=p,g++,f--;n=n.map(function(e){return l.transform(e)})}if(E=function(e,t,r,n){var i=P.tooltip;if("enter"===e)i.classList.remove("--plot-hide-tooltip"),i.classList.add("--plot-show-tooltip"),i.innerHTML=t.extra.label+"<br />"+t.extra.value;else if("leave"===e)return i.classList.remove("--plot-show-tooltip"),void i.classList.add("--plot-hide-tooltip");i.style.left=String(r.pageX)+"px",i.style.top=String(r.pageY)+"px"},"pie"===e||"doughnut"===e){for(y=.4*X.min(i,o),g=0,b=t.length,p=0;g<b;g++)R(t[g])&&(m=X.abs(t[g]),P.renderer.drawSector({x:i/2,y:o/2},y,360*p/j,360*(p+m)/j,0,r.line.color,"solid",r.colors[g],{label:r.labels[g],value:String(m),listener:{enter:E,leave:E,move:E}}),p+=m);"doughnut"===e&&P.renderer.drawEllipse({x:i/2,y:o/2},{x:.5*y,y:.5*y},0,0,r.line.color,"solid",r.background.color)}else if("line"===e){for(g=0,b=n.length,p=0;g+1<b;g++,p+=y)U.isFinite(n[g])&&U.isFinite(n[g+1])&&P.renderer.drawLine({x:C+p,y:o-a-n[g].y},{x:C+p+y,y:o-a-n[g+1].y},r.line.size,r.line.color,r.line.style);for(g=0,b=n.length,p=0;g<b;g++,p+=y)U.isFinite(n[g])&&P.renderer.drawPoint({x:C+p,y:o-a-n[g].y},r.point.size,r.colors[g],{label:r.labels[g],value:String(t[g]),listener:{enter:E,leave:E,move:E}})}else for(g=0,b=n.length,p=0;g<b;g++,p+=y)U.isFinite(n[g])&&("hbar"===e?P.renderer.drawRect({y:z+x+p+(0<g?.2*p:0),x:a+n[g].y/2},{y:y,x:X.abs(n[g].y)},0,0,"transparent","solid",r.colors[g],{label:r.labels[g],value:String(t[g]),listener:{enter:E,leave:E,move:E}}):P.renderer.drawRect({x:C+x+p+(0<g?.2*p:0),y:o-a-n[g].y/2},{x:y,y:X.abs(n[g].y)},0,0,"transparent","solid",r.colors[g],{label:r.labels[g],value:String(t[g]),listener:{enter:E,leave:E,move:E}}));if(r.axes&&N&&N.text&&0<N.text.size&&(D.length||I.length)){for(c=A,p=X.ceil(D.length/3),g=0;g<D.length;g+=p)0!==D[g].v&&P.renderer.drawText("hbar"===e?{x:D[g].p+2,y:c}:{y:D[g].p-2,x:c},D[g].v,N.text.size,N.text.color);for(p=X.ceil(I.length/3),g=0;g<I.length;g+=p)0!==I[g].v&&P.renderer.drawText("hbar"===e?{x:I[g].p+2,y:c}:{y:I[g].p-2,x:c},I[g].v,N.text.size,N.text.color)}return P}},A.VERSION="1.0.0",A.Util={clone:O,extend:F,debounce:function(r,n){var i=null;return function(){var e=this,t=arguments;clearTimeout(i),i=setTimeout(function(){r.apply(e,t)},n)}},subdivide:k,hex2rgb:function(e){return[(e=parseInt("#"===e.charAt(0)?e.slice(1):e,16))>>16&255,e>>8&255,255&e]},rgb2hex:C,hsb2rgb:s,rgb2hsb:function(e){var t=0,r=0,n=0,i=e[0],o=e[1],l=e[2],s=X.min(i,o,l),a=X.max(i,o,l),d=a-s;n=a;t=0!=(r=0!=a?255*d/a:0)?i===a?(o-l)/d:o===a?2+(l-i)/d:4+(i-o)/d:-1;(t*=60)<0&&(t+=360);return r=100*r/255,n=100*n/255,[X.round(t),X.round(r),X.round(n)]},palette:W},A.Point=U,A.Matrix=V,A.Renderer=T,A}.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[t]})}("undefined"!=typeof self?self:this,"Plot");