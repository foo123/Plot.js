/**
*
*    Plot.js Simple chart and functional graph plotting library which can render to Canvas, SVG and plain HTML
*    version 1.0.0
*    https://github.com/foo123/Plot.js
*
**/
!function(t,e){"use strict";e in t||(t[e]=function(){"use strict";var H=Math,e="prototype",Y=1e-6,u=/\s+/,t,a=Object[e].hasOwnProperty,r=Object[e].toString;if(!H.hypot){H.hypot=function(t,e){var r=0,i=0,n,o;for(n=0;n<arguments.length;n+=1){o=H.abs(Number(arguments[n]));if(o>r){i*=r/o*(r/o);r=o}i+=o===0&&r===0?0:o/r*(o/r)}return r===1/0?1/0:r*H.sqrt(i)}}function i(t){return function(){throw new Error(t||"Error")}}function d(t){return r.call(t).slice(8,-1)}function B(t){return"number"===typeof t}function X(t){return"Array"===d(t)}function h(t){return"Object"===d(t)}function c(t){return"function"===typeof t}function M(t){return!isNaN(t)&&isFinite(t)}function q(t){var e,r,i,n=d(t);if("Array"===n){e=new Array(i=t.length);for(r=0;r<i;r++){e[r]=q(t[r])}}else if("Object"===n){e={};for(r in t){if(a.call(t,r))e[r]=q(t[r])}}else if("String"===n){e=t.slice()}else{e=t}return e}function U(){var t=arguments,e=t.length,r=e?true===t[0]:false,i=r?1:0,n=(e>i?t[i]:{})||{},o,l,s;for(l=i+1;l<e;l++){o=t[l];for(s in o){if(!a.call(o,s))continue;if(r&&h(n[s])&&h(o[s]))n[s]=U(true,n[s],o[s]);else n[s]=o[s]}}return n}function n(r,i){var n=null;return function(){var t=this,e=arguments;clearTimeout(n),n=setTimeout(function(){r.apply(t,e)},i)}}function L(t){if(t){if(255>t[2])return[t[0],t[1],t[2]+1];else if(255>t[1])return[t[0],t[1]+1,0];else if(255>t[0])return[t[0]+1,0,0]}return[0,0,0]}function o(t){return[(t=parseInt("#"===t.charAt(0)?t.slice(1):t,16))>>16&255,t>>8&255,255&t]}function C(t){var e=[Number(t[0]).toString(16),Number(t[1]).toString(16),Number(t[2]).toString(16)];if(1===e[0].length)e[0]="0"+e[0];if(1===e[1].length)e[1]="0"+e[1];if(1===e[2].length)e[2]="0"+e[2];return e[0]+e[1]+e[2]}function s(t){var e,r,i,n=H.round(t[0]),o=H.round(t[1]*255/100),l=H.round(t[2]*255/100);if(o===0){e=r=i=l}else{var s=l,a=(255-o)*l/255,d=(s-a)*(n%60)/60;if(n==360)n=0;if(n<60){e=s;i=a;r=a+d}else if(n<120){r=s;i=a;e=s-d}else if(n<180){r=s;e=a;i=a+d}else if(n<240){i=s;e=a;r=s-d}else if(n<300){i=s;r=a;e=a+d}else if(n<360){e=s;r=a;i=s-d}else{e=0;r=0;i=0}}return[H.round(e),H.round(r),H.round(i)]}function l(t){var e=0,r=0,i=0,n=t[0],o=t[1],l=t[2],s=H.min(n,o,l),a=H.max(n,o,l),d=a-s;if(0!=(i=a));if(0!=(r=0!=a?255*d/a:0))e=n===a?(o-l)/d:o===a?2+(l-n)/d:4+(n-o)/d;else e=-1;if((e*=60)<0)e+=360;return r=100*r/255,i=100*i/255,[H.round(e),H.round(r),H.round(i)]}function V(t,e){e=String(e||"hex").toLowerCase();var r=new Array(t),i=H.min(t,60),n,o,l;for(n=0,o=0;n<t;n++){l=s([o*360/i,100,100]);r[n]="rgb"===e?"rgb("+l.join(",")+")":"#"+C(l);o+=2;if(o>=i)o=o&1?0:1}return r}function y(t){var e,r=new Array(t);for(e=0;e<t;e++)r[e]="Entry: "+String(e+1);return r}function Z(t){return t}function p(t){return t.x}function x(t){return t.y}function g(e){return function(t){return B(t)?e-t:(t.y=e-t.y,t)}}function G(t,e,r,i){r=r||0;return true===i?t+r*(e-t):0>r?t:1<r?e:t+r*(e-t)}function f(t,e,r,i,n,o,l){var s=this,a=(e+r)/2,d=o||new J(t.x(e),t.y(e)),h=l||new J(t.x(r),t.y(r)),c=new J(t.x(a),t.y(a));if(0>=n||c.dist(d,h)<=i){return d.eq(c)||h.eq(c)?[d,h]:[d,c,h]}else{return f(t,e,a,i,n-1,d,c).concat(f(t,a,r,i,n-1,c,h).slice(1))}}function b(t,e){e=e||window.event;var r=t.getBoundingClientRect(),i=0,n=0,o,l,s,a,d,h;if(e.changedTouches&&e.changedTouches.length){o=e.changedTouches[0].clientX;l=e.changedTouches[0].clientY;s=e.changedTouches[0].pageX;a=e.changedTouches[0].pageY}else{o=e.clientX;l=e.clientY;s=e.pageX;a=e.pageY}d=o-i-r.left;h=l-n-r.top;return{localX:d,localY:h,clientX:o,clientY:l,pageX:s,pageY:a}}function J(t,e){var r=this;if(!(r instanceof J))return new J(t,e);if(t instanceof J){r.x=t.x;r.y=t.y}else if(null!=t&&null!=e){r.x=t;r.y=e}else{r.x=0;r.y=0}}function K(t){var e=this;if(!(e instanceof K))return new K(t);if(t instanceof K){e.v=t.v.slice()}else if(t&&9===t.length){e.v=t}else{e.v=[1,0,0,0,1,0,0,0,1]}}function w(t,e){}function v(t,e){var r=this;if(!(r instanceof v))return new v(t,e);r.renderer=t instanceof v.Renderer?t:new v.Renderer.Html(t||document.body);r.tooltip=document.createElement("div");r.tooltip.className="--plot-tooltip --plot-hide-tooltip";r.tooltip.style.position="absolute";document.body.appendChild(r.tooltip);r.opts=U(true,r.defaultOpts(),e||{})}return t=function(t){return function(){throw new Error(t||"Error")}}("Method not implemented!"),J[e]={constructor:J,x:0,y:0,dispose:function(){return this.x=null,this.y=null,this},eq:function(t,e){return 2<=arguments.length?H.hypot(this.x-t.x,this.y-t.y)<=(e||0):this.x===t.x&&this.y===t.y},dist:function(t,e){var r=e.x-t.x,i=e.y-t.y;return H.abs(i*this.x-r*this.y+e.x*t.y-e.y*t.x)/H.hypot(i,r)},apply:function(t,e){return null==e&&(e=t),t instanceof K?t.transform(this):c(t)&&c(e)?new J(t(this.x),e(this.y)):this}},J.isFinite=function(t){return M(t.x)&&M(t.y)},K[e]={constructor:K,v:null,dispose:function(){return this.v=null,this},eq:function(t){var e,r=this.v,i=t.v;for(e=0;e<9;e++)if(r[e]!==i[e])return!1;return!0},mul:function(t){var e,r,i,n=this.v;return t instanceof J||a.call(t,"x")&&a.call(t,"y")?(r=t.x,i=t.y,new J(n[0]*r+n[1]*i+n[2],n[3]*r+n[4]*i+n[5])):t instanceof K?(e=t.v,new K([n[0]*e[0]+n[1]*e[3]+n[2]*e[6],n[0]*e[1]+n[1]*e[4]+n[2]*e[7],n[0]*e[2]+n[1]*e[5]+n[2]*e[8],n[3]*e[0]+n[4]*e[3]+n[5]*e[6],n[3]*e[1]+n[4]*e[4]+n[5]*e[7],n[3]*e[2]+n[4]*e[5]+n[5]*e[8],n[6]*e[0]+n[7]*e[3]+n[8]*e[6],n[6]*e[1]+n[7]*e[4]+n[8]*e[7],n[6]*e[2]+n[7]*e[5]+n[8]*e[8]])):this},skew:function(t,e){return new K([1,t||0,0,e||0,1,0,0,0,1]).mul(this)},scale:function(t,e){return 1===arguments.length&&(e=t),new K([t,0,0,0,e,0,0,0,1]).mul(this)},rotate:function(t){t=t||0;var e=H.sin(t),r=H.cos(t);return new K([r,-e,0,e,r,0,0,0,1]).mul(this)},translate:function(t,e){return new K([1,0,t||0,0,1,e||0,0,0,1]).mul(this)},transform:function(t){return this.mul(t)}},w[e]={constructor:w,container:null,opts:null,drawLayer:null,nextColor:null,hitDict:null,hitTarget:null,handler:null,dispose:function(){var t=this;return t.container&&t.drawLayer&&(t.handler&&(t.drawLayer.removeEventListener("touchstart",t.handler,!1),t.drawLayer.removeEventListener("mouseenter",t.handler,!1),t.drawLayer.removeEventListener("click",t.handler,!1)),t.container.removeChild(t.drawLayer)),t.container=null,t.opts=null,t.drawLayer=null,t.nextColor=null,t.hitDict=null,t.hitTarget=null,t.handler=null,t},defaultOpts:function(){return{background:{color:"#ffffff"},text:{size:12,color:"#000000"},point:{size:4,color:"#000000"},line:{size:1,color:"#000000",style:"solid"},shape:{border:{size:1,color:"#000000",style:"solid"},fill:"none"},label:{text:{size:12,color:"#000000"},border:{size:1,color:"#000000",style:"solid"},fill:"none",padding:{top:0,right:0,bottom:0,left:0}}}},width:function(){return this.drawLayer?this.drawLayer.clientWidth:0},height:function(){return this.drawLayer?this.drawLayer.clientHeight:0},resize:function(){return this},init:t,objAt:t,clear:t,background:t,drawPoint:t,drawLine:t,drawRect:t,drawEllipse:t,drawSector:t,drawText:t,drawLabel:t},w.handler=function(t){var e,r,i=this,n=t.type,o=i.drawLayer===t.target;function l(t,e,r,i){t&&e&&e.extra&&e.extra.listener&&c(e.extra.listener[t])&&e.extra.listener[t](t,e,r,i)}if(o&&("touchstart"===n?(i.drawLayer.addEventListener("touchmove",i.handler,!1),i.drawLayer.addEventListener("touchend",i.handler,!1),i.drawLayer.addEventListener("touchcancel",i.handler,!1)):"touchend"===n||"touchcancel"===n?(i.drawLayer.removeEventListener("touchmove",i.handler,!1),i.drawLayer.removeEventListener("touchend",i.handler,!1),i.drawLayer.removeEventListener("touchcancel",i.handler,!1),i.hitTarget&&(l("leave",i.hitTarget.obj,i.hitTarget.pos,t),i.hitTarget=null)):"mouseenter"===n?(i.drawLayer.addEventListener("mouseleave",i.handler,!1),i.drawLayer.addEventListener("mousemove",i.handler,!1)):"mouseleave"===n&&(i.drawLayer.removeEventListener("mouseleave",i.handler,!1),i.drawLayer.removeEventListener("mousemove",i.handler,!1),i.hitTarget&&(l("leave",i.hitTarget.obj,i.hitTarget.pos,t),i.hitTarget=null))),"touchstart"===n||"mouseenter"===n){if(e=b(i.drawLayer,t),!(r=i.objAt(t,e)))return;i.hitTarget&&i.hitTarget.obj!==r&&(l("leave",i.hitTarget.obj,i.hitTarget.pos=e,t),i.hitTarget=null),i.hitTarget||(i.hitTarget={obj:r,pos:e},l("enter",i.hitTarget.obj,i.hitTarget.pos=e,t))}else if("touchmove"===n||"mousemove"===n||"click"===n){if(e=b(i.drawLayer,t),r=i.objAt(t,e),o&&!r)return;r?(i.hitTarget&&(i.hitTarget.obj!==r?(l("leave",i.hitTarget.obj,i.hitTarget.pos=e,t),i.hitTarget=null):"click"!==n&&l("move",i.hitTarget.obj,i.hitTarget.pos=e,t)),i.hitTarget||(i.hitTarget={obj:r,pos:e},l("enter",i.hitTarget.obj,i.hitTarget.pos=e,t)),"click"===n&&l("click",i.hitTarget.obj,i.hitTarget.pos=e,t)):i.hitTarget&&(l("leave",i.hitTarget.obj,i.hitTarget.pos=e,t),i.hitTarget=null)}},(w.Html=function t(e,r){if(!(this instanceof t))return new t(e,r);this.container=e,this.opts=U(!0,this.defaultOpts(),r||{})})[e]=U(new w,{constructor:w.Html,init:function(){var t=this;return t.drawLayer||(t.nextColor=[0,0,0],t.hitDict={},t.hitTarget=null,t.drawLayer=document.createElement("div"),t.drawLayer.className="--plot-html",t.drawLayer.style.position="absolute",t.drawLayer.style.left="0px",t.drawLayer.style.top="0px",t.drawLayer.style.width="100%",t.drawLayer.style.height="100%",t.drawLayer.style.display="block",t.drawLayer.style.overflow="hidden",t.drawLayer.style.margin="0px",t.drawLayer.style.padding="0px",t.drawLayer.style.border="none",t.drawLayer.style.backgroundColor=t.opts.background.color,t.container.appendChild(t.drawLayer),t.handler=w.handler.bind(t),t.drawLayer.addEventListener("touchstart",t.handler,!1),t.drawLayer.addEventListener("mouseenter",t.handler,!1),t.drawLayer.addEventListener("click",t.handler,!1)),t},objAt:function(t,e){var r=t.target?t.target.hitId:null;return r&&a.call(this.hitDict,r)?this.hitDict[r]:null},clear:function(){var t=this;return t.drawLayer.innerHTML="",t.nextColor=[0,0,0],t.hitDict={},t.hitTarget=null,t},background:function(t){return this.opts.background.color=t,this.drawLayer.style.backgroundColor=this.opts.background.color,this},drawPoint:function(t,e,r,i){var n=this,o=document.createElement("div");return e=null!=e?e:n.opts.point.size,r=String(r||n.opts.point.color).toLowerCase(),o.className="--plot-point",o.style.position="absolute",o.style.display="inline-block",o.style.overflow="hidden",o.style.boxSizing="border-box",o.style.margin="0px",o.style.padding="0px",o.style.width=String(2*e)+"px",o.style.height=String(2*e)+"px",o.style.border="1px solid "+r,o.style.borderRadius="50%",o.style.backgroundColor=r,o.style.left=String(t.x)+"px",o.style.top=String(t.y)+"px",o.style.transformOrigin="left top",o.style.transform="translate(-50%,-50%)",o.hitId=C(n.nextColor=L(n.nextColor)),n.hitDict[o.hitId]={type:"point",pos:t,extra:i||null},n.drawLayer.appendChild(o),n},drawLine:function(t,e,r,i,n,o){var l=this,s=document.createElement("div"),a=e.y-t.y,d=e.x-t.x,h=H.hypot(a,d);return r=null!=r?r:l.opts.line.size,i=String(i||l.opts.line.color).toLowerCase(),"dashed"!==(n=String(n||l.opts.line.style).toLowerCase())&&"dotted"!==n&&(n="solid"),s.className="--plot-line",s.style.position="absolute",s.style.display="inline-block",s.style.boxSizing="border-box",s.style.margin="0px",s.style.padding="0px",s.style.border="none",s.style.background="none",s.style.width=String(h)+"px",s.style.height="0px",s.style.borderBottom=String(r)+"px "+n+" "+i,s.style.left=String(t.x)+"px",s.style.top=String(t.y)+"px",s.style.transformOrigin="left top",s.style.transform="rotate("+String(H.atan2(a,d))+"rad)",s.hitId=C(l.nextColor=L(l.nextColor)),l.hitDict[s.hitId]={type:"line",pos:[t,e],extra:o||null},l.drawLayer.appendChild(s),l},drawRect:function(t,e,r,i,n,o,l,s){var a=this,d=document.createElement("div");return i=null!=i?i:a.opts.shape.border.size,n=String(n||a.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||a.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:a.opts.shape.fill).toLowerCase(),d.className="--plot-rectangle",d.style.position="absolute",d.style.display="inline-block",d.style.overflow="hidden",d.style.boxSizing="border-box",d.style.margin="0px",d.style.padding="0px",d.style.background=l||"none",d.style.width=String(e.x)+"px",d.style.height=String(e.y)+"px",d.style.border=0<i?String(i)+"px "+o+" "+n:"none",d.style.left=String(t.x-e.x/2)+"px",d.style.top=String(t.y-e.y/2)+"px",d.style.transformOrigin="center center",d.style.transform="rotate("+String((r||0)*H.PI/180)+"rad)",d.hitId=C(a.nextColor=L(a.nextColor)),a.hitDict[d.hitId]={type:"rect",center:t,side:e,rotation:r,extra:s||null},a.drawLayer.appendChild(d),a},drawEllipse:function(t,e,r,i,n,o,l,s){var a=this,d=document.createElement("div");return i=null!=i?i:a.opts.shape.border.size,n=String(n||a.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||a.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:a.opts.shape.fill).toLowerCase(),d.className="--plot-ellipse",d.style.position="absolute",d.style.display="inline-block",d.style.overflow="hidden",d.style.boxSizing="border-box",d.style.margin="0px",d.style.padding="0px",d.style.background=l||"none",d.style.width=String(2*e.x)+"px",d.style.height=String(2*e.y)+"px",d.style.border=0<i?String(i)+"px "+o+" "+n:"none",d.style.borderRadius="50%",d.style.left=String(t.x-e.x)+"px",d.style.top=String(t.y-e.y)+"px",d.style.transformOrigin="center center",d.style.transform="rotate("+String((r||0)*H.PI/180)+"rad)",d.hitId=C(a.nextColor=L(a.nextColor)),a.hitDict[d.hitId]={type:"ellipse",center:t,radius:e,rotation:r,extra:s||null},a.drawLayer.appendChild(d),a},drawSector:function(t,e,r,i,n,o,l,s,a){var d,h,c,y,u,p,x,g,f,b,w,v,m=this,S=document.createElement("div");return n=null!=n?n:m.opts.shape.border.size,o=String(o||m.opts.shape.border.color).toLowerCase(),"dashed"!==(l=String(l||m.opts.shape.border.style).toLowerCase())&&"dotted"!==l&&(l="solid"),s=String(null!=s?s:m.opts.shape.fill).toLowerCase(),u=r*H.PI/180,y=2*e,c=i*H.PI/180-u,b=t.x,w=t.y,p=b-e,x=w-e,g=b+e,f=w+e,S.className="--plot-sector",S.style.position="absolute",S.style.display="inline-block",S.style.overflow="hidden",S.style.boxSizing="border-box",S.style.margin="0px",S.style.padding="0px",S.style.background=s||"none",S.style.width=String(y)+"px",S.style.height=String(y)+"px",S.style.border=0<n?String(n)+"px "+l+" "+o:"none",S.style.borderRadius="50%",S.style.left=String(p)+"px",S.style.top=String(x)+"px",c+Y<=2*H.PI&&(d={x:g,y:w},v="polygon("+((h={x:b+e*H.cos(c),y:w+e*H.sin(c)}).y<w?b<=h.x?[d,t,h,{x:g,y:x},{x:p,y:x},{x:p,y:f},{x:g,y:f}]:[d,t,h,{x:p,y:x},{x:p,y:f},{x:g,y:f}]:h.x<b?[d,t,h,{x:p,y:h.y},{x:p,y:f},{x:g,y:f}]:[d,t,h,{x:g,y:f}]).map(function(t){return String(t.x-p)+"px "+String(t.y-x)+"px"}).join(",")+")",S.style.WebkitClipPath=v,S.style.clipPath=v,S.style.transformOrigin="center center",S.style.transform="rotate("+String(u)+"rad)"),S.hitId=C(m.nextColor=L(m.nextColor)),m.hitDict[S.hitId]={type:"sector",center:t,radius:e,a0:r,a1:i,extra:a||null},m.drawLayer.appendChild(S),m},fitText:function(t,e,r,i){var n,o,l,s,a=t.split(u),d=[],h=[],c=0;for(e.style.visibility="hidden",this.drawLayer.appendChild(e),n=0,o=a.length;n<o;n++)l=d.concat(a[n]),e.textContent=l.join(" "),r<(s=e.clientWidth)&&0<d.length?(h.push(d.join(" ")),d=[a[n]]):(d=l,c=H.max(c,s));return d.length&&(h.push(d.join(" ")),c=H.max(c,s)),this.drawLayer.removeChild(e),{lines:h,width:c,height:(h.length-1)*i}},createText:function(t,e,r,i,n){var o,l,s=document.createElement("div");return s.className="--plot-text",s.style.position="absolute",s.style.display="inline-block",s.style.overflow="hidden",s.style.boxSizing="border-box",s.style.margin="0px",s.style.padding="0px",s.style.border="none",s.style.background="none",s.style.color=r,s.style.fontSize=String(e)+"px",s.style.fontFamily="sans-serif",s.style.textAlign="left",s.style.whiteSpace="nowrap",s.style.lineHeight=String(n)+"px",(o=document.createElement("span")).style.display="inline-block",o.style.fontSize=String(e)+"px",o.style.fontFamily="sans-serif",o.style.whiteSpace="nowrap",o.style.padding="0px",o.style.margin="0px",o.style.border="none",(l=this.fitText(String(t),o,null==i?1/0:i,null==n?1.2*e:n)).el=s,l},drawText:function(t,e,r,i,n){var o,l,s=this;return r=null!=r?r:s.opts.text.size,i=String(i||s.opts.text.color).toLowerCase(),l=1.2*r,(o="String"===d(e)?s.createText(e,r,i,n,l):e).el.style.fontSize=String(r)+"px",o.el.style.fontFamily="sans-serif",o.el.style.textAlign="left",o.el.style.whiteSpace="nowrap",o.el.style.lineHeight=String(l)+"px",o.el.style.left=String(t.x)+"px",o.el.style.top=String(t.y-r)+"px",o.lines.forEach(function(t){var e=document.createElement("span");e.style.position="relative",e.style.display="block",e.style.padding="0px",e.style.margin="0px",e.style.border="none",e.style.whiteSpace="nowrap",e.textContent=t,o.el.appendChild(e)}),s.drawLayer.appendChild(o.el),s},drawLabel:function(t,e,r,i){var n,o,l,s,a,d,h,c=this;return i=U(!0,q(c.opts),i||{}),n="auto"===e.x?1/0:e.x-i.label.padding.left-i.label.padding.right,o=1.2*i.label.text.size,h=c.createText(String(r),i.label.text.size,i.label.text.color,n,o),a="auto"===e.x?h.width+i.label.padding.left+i.label.padding.right:e.x,d="auto"===e.y?h.height+i.label.padding.top+i.label.padding.bottom:e.y,l=t.x,s=t.y,"left"===l?l=0:"right"===l?l=c.width()-a:"center"===l&&(l=(c.width()-a)/2),"top"===s?s=0:"bottom"===s?s=c.height()-d-i.label.text.size/2:"center"===s&&(s=(c.height()-d-i.label.text.size/2)/2),c.drawRect({x:l+a/2,y:s+d/2},{x:a,y:d},0,i.label.border.size,i.label.border.color,i.label.border.style,i.label.fill),l+=i.label.padding.left,s+=i.label.padding.top,h.el.style.left=String(l)+"px",h.el.style.top=String(s-i.text.size/2)+"px",h.lines.forEach(function(t){var e=document.createElement("span");e.style.position="relative",e.style.display="block",e.style.padding="0px",e.style.margin="0px",e.style.border="none",e.textContent=t,h.el.appendChild(e)}),c.drawLayer.appendChild(h.el),c}}),(w.Canvas=function t(e,r){if(!(this instanceof t))return new t(e,r);this.container=e,this.opts=U(!0,this.defaultOpts(),r||{})})[e]=U(new w,{constructor:w.Canvas,hitCanvas:null,dispose:function(){var t=this;return t.container&&t.hitCanvas&&t.container.removeChild(t.hitCanvas),t.hitCanvas=null,w[e].dispose.call(t)},init:function(){var t=this;return t.drawLayer||(t.nextColor=[0,0,0],t.hitDict={},t.hitTarget=null,t.hitCanvas=document.createElement("canvas"),t.hitCanvas.style.position="absolute",t.hitCanvas.style.left="0px",t.hitCanvas.style.top="0px",t.hitCanvas.style.width="100%",t.hitCanvas.style.height="100%",t.hitCanvas.style.display="block",t.hitCanvas.style.margin="0px",t.hitCanvas.style.padding="0px",t.hitCanvas.style.border="none",t.hitCanvas.style.visibility="hidden",t.container.appendChild(t.hitCanvas),t.drawLayer=document.createElement("canvas"),t.drawLayer.className="--plot-canvas",t.drawLayer.style.position="absolute",t.drawLayer.style.left="0px",t.drawLayer.style.top="0px",t.drawLayer.style.width="100%",t.drawLayer.style.height="100%",t.drawLayer.style.display="block",t.drawLayer.style.margin="0px",t.drawLayer.style.padding="0px",t.drawLayer.style.border="none",t.container.appendChild(t.drawLayer),t.hitCanvas.width=t.width(),t.hitCanvas.height=t.height(),t.drawLayer.width=t.width(),t.drawLayer.height=t.height(),t.handler=w.handler.bind(t),t.drawLayer.addEventListener("touchstart",t.handler,!1),t.drawLayer.addEventListener("mouseenter",t.handler,!1),t.drawLayer.addEventListener("click",t.handler,!1)),t},objAt:function(t,e){var r;return this.hitCanvas&&(r="#"+C(this.hitCanvas.getContext("2d").getImageData(H.round(e.localX),H.round(e.localY),1,1).data),a.call(this.hitDict,r))?this.hitDict[r]:null},resize:function(){var t=this;return t.drawLayer&&(t.hitCanvas.width=t.width(),t.hitCanvas.height=t.height(),t.drawLayer.width=t.width(),t.drawLayer.height=t.height()),t},clear:function(){var t=this,e=t.drawLayer.getContext("2d");return e.fillStyle=String(t.opts.background.color),e.fillRect(0,0,t.drawLayer.width,t.drawLayer.height),(e=t.hitCanvas.getContext("2d")).clearRect(0,0,t.hitCanvas.width,t.hitCanvas.height),t.nextColor=[0,0,0],t.hitDict={},t.hitTarget=null,t},background:function(t){return this.opts.background.color=t,this},drawPoint:function(t,e,r,i){var n,o=this,l=o.drawLayer.getContext("2d");return e=null!=e?e:o.opts.point.size,r=String(r||o.opts.point.color).toLowerCase(),l.resetTransform(),l.fillStyle=r,l.beginPath(),l.arc(t.x,t.y,e,0,2*H.PI),l.closePath(),l.fill(),n="#"+C(o.nextColor=L(o.nextColor)),o.hitDict[n]={type:"point",pos:t,extra:i||null},(l=o.hitCanvas.getContext("2d")).resetTransform(),l.fillStyle=n,l.beginPath(),l.arc(t.x,t.y,e,0,2*H.PI),l.closePath(),l.fill(),o},drawLine:function(t,e,r,i,n,o){var l,s=this,a=s.drawLayer.getContext("2d");return r=null!=r?r:s.opts.line.size,i=String(i||s.opts.line.color).toLowerCase(),"dashed"!==(n=String(n||s.opts.line.style).toLowerCase())&&"dotted"!==n&&(n="solid"),a.resetTransform(),a.beginPath(),"dashed"===n?a.setLineDash([4,4]):"dotted"===n?a.setLineDash([2,4]):a.setLineDash([]),a.lineWidth=r,a.strokeStyle=i,a.moveTo(t.x,t.y),a.lineTo(e.x,e.y),a.stroke(),a.closePath(),l="#"+C(s.nextColor=L(s.nextColor)),s.hitDict[l]={type:"line",pos:[t,e],extra:o||null},(a=s.hitCanvas.getContext("2d")).resetTransform(),a.beginPath(),a.lineWidth=r,a.strokeStyle=l,a.moveTo(t.x,t.y),a.lineTo(e.x,e.y),a.stroke(),a.closePath(),s},drawRect:function(t,e,r,i,n,o,l,s){var a,d=this,h=d.drawLayer.getContext("2d");return i=null!=i?i:d.opts.shape.border.size,n=String(n||d.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||d.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:d.opts.shape.fill).toLowerCase(),h.resetTransform(),h.translate(t.x,t.y),h.rotate((r||0)*H.PI/180),h.beginPath(),0<i&&("dashed"===o?h.setLineDash([4,4]):"dotted"===o?h.setLineDash([2,4]):h.setLineDash([]),h.lineWidth=i,h.strokeStyle=n),h.rect(-e.x/2,-e.y/2,e.x,e.y),l&&"none"!==l&&(h.fillStyle=l,h.fill()),0<i&&h.stroke(),h.closePath(),h.resetTransform(),a="#"+C(d.nextColor=L(d.nextColor)),d.hitDict[a]={type:"rect",center:t,side:e,rotation:r,extra:s||null},(h=d.hitCanvas.getContext("2d")).resetTransform(),h.translate(t.x,t.y),h.rotate((r||0)*H.PI/180),h.beginPath(),0<i&&(h.lineWidth=i,h.strokeStyle=a),h.rect(-e.x/2,-e.y/2,e.x,e.y),h.fillStyle=a,h.fill(),0<i&&h.stroke(),h.closePath(),h.resetTransform(),d},drawEllipse:function(t,e,r,i,n,o,l,s){var a,d=this,h=d.drawLayer.getContext("2d");return i=null!=i?i:d.opts.shape.border.size,n=String(n||d.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||d.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:d.opts.shape.fill).toLowerCase(),h.resetTransform(),h.beginPath(),0<i&&("dashed"===o?h.setLineDash([4,4]):"dotted"===o?h.setLineDash([2,4]):h.setLineDash([]),h.lineWidth=i,h.strokeStyle=n),h.ellipse(t.x,t.y,e.x,e.y,(r||0)*H.PI/180,0,2*H.PI,0),l&&"none"!==l&&(h.fillStyle=l,h.fill()),0<i&&h.stroke(),h.closePath(),h.resetTransform(),a="#"+C(d.nextColor=L(d.nextColor)),d.hitDict[a]={type:"ellipse",center:t,radius:e,rotation:r,extra:s||null},(h=d.hitCanvas.getContext("2d")).resetTransform(),h.beginPath(),0<i&&(h.lineWidth=i,h.strokeStyle=a),h.ellipse(t.x,t.y,e.x,e.y,(r||0)*H.PI/180,0,2*H.PI,0),h.fillStyle=a,h.fill(),0<i&&h.stroke(),h.closePath(),h.resetTransform(),d},drawSector:function(t,e,r,i,n,o,l,s,a){var d,h,c,y=this,u=y.drawLayer.getContext("2d");return n=null!=n?n:y.opts.shape.border.size,o=String(o||y.opts.shape.border.color).toLowerCase(),"dashed"!==(l=String(l||y.opts.shape.border.style).toLowerCase())&&"dotted"!==l&&(l="solid"),s=String(null!=s?s:y.opts.shape.fill).toLowerCase(),h=r*H.PI/180,c=i*H.PI/180,u.resetTransform(),u.beginPath(),0<n&&("dashed"===l?u.setLineDash([4,4]):"dotted"===l?u.setLineDash([2,4]):u.setLineDash([]),u.lineWidth=n,u.strokeStyle=o),u.moveTo(t.x,t.y),u.arc(t.x,t.y,e,h,c,!1),u.closePath(),s&&"none"!==s&&(u.fillStyle=s,u.fill()),0<n&&u.stroke(),u.resetTransform(),d="#"+C(y.nextColor=L(y.nextColor)),y.hitDict[d]={type:"sector",center:t,radius:e,a0:r,a1:i,extra:a||null},(u=y.hitCanvas.getContext("2d")).resetTransform(),u.beginPath(),0<n&&(u.lineWidth=n,u.strokeStyle=d),u.moveTo(t.x,t.y),u.arc(t.x,t.y,e,h,c,!1),u.closePath(),u.fillStyle=d,u.fill(),0<n&&u.stroke(),u.resetTransform(),y},fitText:function(t,e,r,i){var n,o,l,s,a=t.split(u),d=[],h=[],c=0;for(n=0,o=a.length;n<o;n++)l=d.concat(a[n]),r<(s=e.measureText(l.join(" ")).width)&&0<d.length?(h.push(d.join(" ")),d=[a[n]]):(d=l,c=H.max(c,s));return d.length&&(h.push(d.join(" ")),c=H.max(c,s)),{lines:h,width:c,height:(h.length-1)*i}},createText:function(t,e,r,i,n){var o,l=this.drawLayer.getContext("2d");return l.resetTransform(),l.font=String(e)+"px sans-serif",l.fillStyle=r,(o=this.fitText(String(t),l,null==i?1/0:i,null==n?1.2*e:n)).el=l,o},drawText:function(e,t,r,i,n){var o,l,s=0;return r=null!=r?r:this.opts.text.size,i=String(i||this.opts.text.color).toLowerCase(),l=1.2*r,(o="String"===d(t)?this.createText(t,r,i,n,l):t).el.resetTransform(),o.el.font=String(r)+"px sans-serif",o.el.fillStyle=i,o.lines.forEach(function(t){o.el.fillText(t,e.x,e.y+s),s+=l}),this},drawLabel:function(t,e,r,i){var n,o,l,s,a,d,h,c=this,y=0;return i=U(!0,q(c.opts),i||{}),n="auto"===e.x?1/0:e.x-i.label.padding.left-i.label.padding.right,o=1.2*i.label.text.size,(h=c.createText(String(r),i.label.text.size,i.label.text.color,n,o)).el.save(),a="auto"===e.x?h.width+i.label.padding.left+i.label.padding.right:e.x,d="auto"===e.y?h.height+i.label.padding.top+i.label.padding.bottom:e.y,l=t.x,s=t.y,"left"===l?l=0:"right"===l?l=c.width()-a:"center"===l&&(l=(c.width()-a)/2),"top"===s?s=0:"bottom"===s?s=c.height()-d-i.label.text.size/2:"center"===s&&(s=(c.height()-d-i.label.text.size/2)/2),c.drawRect({x:l+a/2,y:s+d/2},{x:a,y:d},0,i.label.border.size,i.label.border.color,i.label.border.style,i.label.fill),l+=i.label.padding.left,s+=i.label.padding.top+i.label.text.size/2,h.el.restore(),h.lines.forEach(function(t){h.el.fillText(t,l,s+y),y+=o}),c}}),(w.Svg=function t(e,r){if(!(this instanceof t))return new t(e,r);this.container=e,this.opts=U(!0,this.defaultOpts(),r||{})})[e]=U(new w,{constructor:w.Svg,NS:"http://www.w3.org/2000/svg",init:function(){var t=this;return t.drawLayer||(t.nextColor=[0,0,0],t.hitDict={},t.hitTarget=null,t.drawLayer=document.createElementNS(t.NS,"svg"),t.drawLayer.setAttribute("class","--plot-svg"),t.drawLayer.style.position="absolute",t.drawLayer.style.left="0px",t.drawLayer.style.top="0px",t.drawLayer.style.width="100%",t.drawLayer.style.height="100%",t.drawLayer.style.display="block",t.drawLayer.style.overflow="hidden",t.drawLayer.style.margin="0px",t.drawLayer.style.padding="0px",t.drawLayer.style.border="none",t.drawLayer.style.backgroundColor=t.opts.background.color,t.container.appendChild(t.drawLayer),t.drawLayer.setAttribute("viewBox","0 0 "+String(t.width())+" "+String(t.height())),t.handler=w.handler.bind(t),t.drawLayer.addEventListener("touchstart",t.handler,!1),t.drawLayer.addEventListener("mouseenter",t.handler,!1),t.drawLayer.addEventListener("click",t.handler,!1)),t},objAt:function(t,e){var r=t.target?t.target.hitId:null;return r&&a.call(this.hitDict,r)?this.hitDict[r]:null},resize:function(){var t=this;return t.drawLayer&&t.drawLayer.setAttribute("viewBox","0 0 "+String(t.width())+" "+String(t.height())),t},clear:function(){var t=this;return t.drawLayer.innerHTML="",t.nextColor=[0,0,0],t.hitDict={},t.hitTarget=null,t},background:function(t){return this.opts.background.color=t,this.drawLayer.style.backgroundColor=this.opts.background.color,this},drawPoint:function(t,e,r,i){var n=this,o=document.createElementNS(n.NS,"circle");return e=null!=e?e:n.opts.point.size,r=String(r||n.opts.point.color).toLowerCase(),o.setAttribute("class","--plot-point"),o.setAttribute("cx",String(t.x)),o.setAttribute("cy",String(t.y)),o.setAttribute("r",String(e)),o.setAttribute("stroke-width","1px"),o.setAttribute("stroke",r),o.setAttribute("fill",r),o.hitId=C(n.nextColor=L(n.nextColor)),n.hitDict[o.hitId]={type:"point",pos:t,extra:i||null},n.drawLayer.appendChild(o),n},drawLine:function(t,e,r,i,n,o){var l=this,s=document.createElementNS(l.NS,"line");return r=null!=r?r:l.opts.line.size,i=String(i||l.opts.line.color).toLowerCase(),"dashed"!==(n=String(n||l.opts.line.style).toLowerCase())&&"dotted"!==n&&(n="solid"),s.setAttribute("class","--plot-line"),s.setAttribute("x1",String(t.x)),s.setAttribute("y1",String(t.y)),s.setAttribute("x2",String(e.x)),s.setAttribute("y2",String(e.y)),s.setAttribute("stroke-width",String(r)+"px"),s.setAttribute("stroke",i),"dashed"===n?s.setAttribute("stroke-dasharray","4 4"):"dotted"===n&&s.setAttribute("stroke-dasharray","2 4"),s.hitId=C(l.nextColor=L(l.nextColor)),l.hitDict[s.hitId]={type:"line",pos:[t,e],extra:o||null},l.drawLayer.appendChild(s),l},drawRect:function(t,e,r,i,n,o,l,s){var a=this,d=document.createElementNS(a.NS,"rect");return i=null!=i?i:a.opts.shape.border.size,n=String(n||a.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||a.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:a.opts.shape.fill).toLowerCase(),d.setAttribute("class","--plot-rectangle"),d.setAttribute("x",String(t.x-e.x/2)),d.setAttribute("y",String(t.y-e.y/2)),d.setAttribute("width",String(e.x)),d.setAttribute("height",String(e.y)),d.setAttribute("transform","rotate("+String(r||0)+" "+String(t.x)+" "+String(t.y)+")"),0<i&&(d.setAttribute("stroke-width",String(i)+"px"),d.setAttribute("stroke",n),"dashed"===o?d.setAttribute("stroke-dasharray","4 4"):"dotted"===o&&d.setAttribute("stroke-dasharray","2 4")),d.setAttribute("fill",l||"none"),d.hitId=C(a.nextColor=L(a.nextColor)),a.hitDict[d.hitId]={type:"rect",center:t,side:e,rotation:r,extra:s||null},a.drawLayer.appendChild(d),a},drawEllipse:function(t,e,r,i,n,o,l,s){var a=this,d=document.createElementNS(a.NS,"ellipse");return i=null!=i?i:a.opts.shape.border.size,n=String(n||a.opts.shape.border.color).toLowerCase(),"dashed"!==(o=String(o||a.opts.shape.border.style).toLowerCase())&&"dotted"!==o&&(o="solid"),l=String(null!=l?l:a.opts.shape.fill).toLowerCase(),d.setAttribute("class","--plot-ellipse"),d.setAttribute("cx",String(t.x)),d.setAttribute("cy",String(t.y)),d.setAttribute("rx",String(e.x)),d.setAttribute("ry",String(e.y)),d.setAttribute("transform","rotate("+String(r||0)+" "+String(t.x)+" "+String(t.y)+")"),0<i&&(d.setAttribute("stroke-width",String(i)+"px"),d.setAttribute("stroke",n),"dashed"===o?d.setAttribute("stroke-dasharray","4 4"):"dotted"===o&&d.setAttribute("stroke-dasharray","2 4")),d.setAttribute("fill",l||"none"),d.hitId=C(a.nextColor=L(a.nextColor)),a.hitDict[d.hitId]={type:"ellipse",center:t,radius:e,rotation:r,extra:s||null},a.drawLayer.appendChild(d),a},drawSector:function(t,e,r,i,n,o,l,s,a){var d,h,c,y,u,p,x,g,f=this;return n=null!=n?n:f.opts.shape.border.size,o=String(o||f.opts.shape.border.color).toLowerCase(),"dashed"!==(l=String(l||f.opts.shape.border.style).toLowerCase())&&"dotted"!==l&&(l="solid"),s=String(null!=s?s:f.opts.shape.fill).toLowerCase(),d=r*H.PI/180,h=i*H.PI/180-d,c=t.x,y=t.y,g=C(f.nextColor=L(f.nextColor)),h+Y>2*H.PI?((x=document.createElementNS(f.NS,"ellipse")).setAttribute("cx",String(c)),x.setAttribute("cy",String(y)),x.setAttribute("rx",String(e)),x.setAttribute("ry",String(e))):(u={x:c+e,y:y},p={x:c+e*H.cos(h),y:y+e*H.sin(h)},(x=document.createElementNS(f.NS,"path")).setAttribute("d","M "+String(c)+" "+String(y)+" L "+String(u.x)+" "+String(u.y)+" A "+String(e)+" "+String(e)+" 0 "+String(h>=H.PI?1:0)+" 1 "+String(p.x)+" "+String(p.y)+" L "+String(c)+" "+String(y)+" Z"),x.setAttribute("transform","rotate("+String(r)+" "+String(c)+" "+String(y)+")")),x.setAttribute("class","--plot-sector"),x.setAttribute("stroke-width",String(n)+"px"),x.setAttribute("stroke",o),x.setAttribute("fill",s),"dashed"===l?x.setAttribute("stroke-dasharray","4 4"):"dotted"===l&&x.setAttribute("stroke-dasharray","2 4"),x.hitId=g,f.hitDict[x.hitId]={type:"sector",center:t,radius:e,a0:r,a1:i,extra:a||null},f.drawLayer.appendChild(x),f},fitText:function(t,e,r,i){var n,o,l,s,a,d=t.split(u),h=[],c=[],y=0;for(e.style.visibility="hidden",this.drawLayer.appendChild(e),n=0,o=d.length;n<o;n++)l=h.concat(d[n]),e.textContent=l.join(" "),s=e.getBBox(),r<(a=H.round(s.width))&&0<h.length?(c.push(h.join(" ")),h=[d[n]]):(h=l,y=H.max(y,a));return h.length&&(c.push(h.join(" ")),y=H.max(y,a)),this.drawLayer.removeChild(e),{lines:c,width:y,height:(c.length-1)*i}},createText:function(t,e,r,i,n){var o,l=document.createElementNS(this.NS,"text");return l.setAttribute("class","--plot-text"),l.setAttribute("fill",r),l.style.fontSize=String(e)+"px",l.style.fontFamily="sans-serif",(o=this.fitText(String(t),l.cloneNode(!1),null==i?1/0:i,null==n?1.2*e:n)).el=l,o},drawText:function(r,t,e,i,n){var o,l,s=this,a=0;return e=null!=e?e:s.opts.text.size,i=String(i||s.opts.text.color).toLowerCase(),l=1.2*e,(o="String"===d(t)?s.createText(t,e,i,n,l):t).el.setAttribute("fill",i),o.el.style.fontSize=String(e)+"px",o.el.style.fontFamily="sans-serif",o.el.setAttribute("x",r.x),o.el.setAttribute("y",r.y),o.lines.forEach(function(t){var e=document.createElementNS(s.NS,"tspan");e.setAttribute("x",r.x),e.setAttribute("dy",a),e.textContent=t,o.el.appendChild(e),0===a&&(a=l)}),s.drawLayer.appendChild(o.el),s},drawLabel:function(t,e,r,i){var n,o,l,s,a,d,h,c=this,y=0;return i=U(!0,q(c.opts),i||{}),n="auto"===e.x?1/0:e.x-i.label.padding.left-i.label.padding.right,o=1.2*i.label.text.size,h=c.createText(String(r),i.label.text.size,i.label.text.color,n,o),a="auto"===e.x?h.width+i.label.padding.left+i.label.padding.right:e.x,d="auto"===e.y?h.height+i.label.padding.top+i.label.padding.bottom:e.y,l=t.x,s=t.y,"left"===l?l=0:"right"===l?l=c.width()-a:"center"===l&&(l=(c.width()-a)/2),"top"===s?s=0:"bottom"===s?s=c.height()-d-i.label.text.size/2:"center"===s&&(s=(c.height()-d-i.label.text.size/2)/2),c.drawRect({x:l+a/2,y:s+d/2},{x:a,y:d},0,i.label.border.size,i.label.border.color,i.label.border.style,i.label.fill),l+=i.label.padding.left,s+=i.label.padding.top+i.label.text.size/2,h.el.setAttribute("x",l),h.el.setAttribute("y",s),h.lines.forEach(function(t){var e=document.createElementNS(c.NS,"tspan");e.setAttribute("x",l),e.setAttribute("dy",y),e.textContent=t,h.el.appendChild(e),0===y&&(y=o)}),c.drawLayer.appendChild(h.el),c}}),v[e]={constructor:v,renderer:null,opts:null,dispose:function(){var t=this;return t.tooltip&&document.body.removeChild(t.tooltip),t.renderer=null,t.tooltip=null,t.opts=null,t},defaultOpts:function(){return{tolerance:.001,depth:20,npoints:60,background:{color:"#ffffff"},padding:{top:0,right:0,bottom:0,left:0},text:{size:14,color:"#000000"},point:{size:4,color:"#000000"},line:{size:1,color:"#000000",style:"solid"},shape:{border:{size:1,color:"#000000",style:"solid"},fill:"none"},label:{text:{size:14,color:"#000000"},border:{size:1,color:"#000000",style:"solid"},fill:"none",padding:{top:10,right:10,bottom:10,left:10}},axes:{x:{size:2,color:"#000000",style:"solid",ticks:{size:1,color:"rgba(0,0,0,0.5)",style:"dashed",text:{size:16,color:"#000000"},step:"auto",scale:"linear"}},y:{size:2,color:"#000000",style:"solid",ticks:{size:1,color:"rgba(0,0,0,0.5)",style:"dashed",text:{size:16,color:"#000000"},step:"auto",scale:"linear"}}},legend:{position:"bottom",text:{size:10,color:"#000000"}},colors:null,labels:null}},boundingBox:function(t){var e,r,i,n,o,l=t.length;if(B(t[0])){for(r=1/0,n=-1/0,e=0;e<l;e++)M(t[e])&&(t[e]<r&&(r=t[e]),t[e]>n&&(n=t[e]));return{min:r,max:n}}for(i=r=1/0,o=n=-1/0,e=0;e<l;e++)J.isFinite(t[e])&&(t[e].x<r&&(r=t[e].x),t[e].y<i&&(i=t[e].y),t[e].x>n&&(n=t[e].x),t[e].y>o&&(o=t[e].y));return{min:{x:r,y:i},max:{x:n,y:o}}},sample:function(t,e,r,i){var n,o,l,s,a;for(i=U(q(this.opts),i||{}),null==e&&(e=0),null==r&&(r=e+1),t=c(t.x)&&c(t.y)?t:{x:Z,y:t},s=(r-e)/(a=H.ceil(2*i.npoints/3)),n=[],l=0;l<a;l++)o=f(t,e+l*s,e+(l+1)*s,i.tolerance,i.depth),n=n.concat(0<l?o.slice(1):o);return n},width:function(){return this.renderer.init().width()},height:function(){return this.renderer.init().height()},resize:function(){return this.renderer.init().resize(),this},clear:function(){return this.renderer.init().background(this.opts.background.color).clear(),this},text:function(t,e,r){var i=this.renderer;return r=U(!0,q(this.opts),r||{}),i.init(),i.drawText(t,String(e),r.text.size,r.text.color),this},point:function(t,e){var r,i,n=this.renderer;for(e=U(!0,q(this.opts),e||{}),n.init(),X(t)||(t=[t]),r=0,i=t.length;r<i;r++)J.isFinite(t[r])&&n.drawPoint(t[r],e.point.size,e.point.color);return this},line:function(t,e){var r,i,n=this.renderer;for(e=U(!0,q(this.opts),e||{}),n.init(),X(t)||(t=[t]),r=0,i=t.length;r+1<i;r++)J.isFinite(t[r])&&J.isFinite(t[r+1])&&n.drawLine(t[r],t[r+1],e.line.size,e.line.color,e.line.style);return this},rectangle:function(e,r,i,n){var o=this.renderer;return o.init(),arguments.length<=2&&X(e)?(n=U(!0,q(this.opts),r||{}),e.forEach(function(t){n=U(!0,n,t[3]||{}),i=t[2],B(r=t[1])&&(r={x:r,y:r}),e=t[0],o.drawRect(e,r,i||0,n.shape.border.size,n.shape.border.color,n.shape.border.style,n.shape.fill)})):(n=U(!0,q(this.opts),n||{}),o.drawRect(e,r,i||0,n.shape.border.size,n.shape.border.color,n.shape.border.style,n.shape.fill)),this},ellipse:function(e,r,i,n){var o=this.renderer;return o.init(),arguments.length<=2&&X(e)?(n=U(!0,q(this.opts),r||{}),e.forEach(function(t){n=U(!0,n,t[3]||{}),i=t[2],B(r=t[1])&&(r={x:r,y:r}),e=t[0],o.drawEllipse(e,r,i||0,n.shape.border.size,n.shape.border.color,n.shape.border.style,n.shape.fill)})):(n=U(!0,q(this.opts),n||{}),B(r)&&(r={x:r,y:r}),o.drawEllipse(e,r,i||0,n.shape.border.size,n.shape.border.color,n.shape.border.style,n.shape.fill)),this},sector:function(e,r,i,n,o){var l=this.renderer;return l.init(),arguments.length<=2&&X(e)?(o=U(!0,q(this.opts),r||{}),e.forEach(function(t){o=U(!0,o,t[4]||{}),n=t[3],i=t[2],r=t[1],e=t[0],l.drawSector(e,+r,+i,+n,o.shape.border.size,o.shape.border.color,o.shape.border.style,o.shape.fill)})):(o=U(!0,q(this.opts),o||{}),l.drawSector(e,+r,+i,+n,o.shape.border.size,o.shape.border.color,o.shape.border.style,o.shape.fill)),this},label:function(t,e,r,i){var n=this.renderer;return n.init(),n.drawLabel(t,e,String(r),U(!0,q(this.opts),i||{})),this},graph:function(t,e,r,i){var n,o,l,s,a,d,h,c,y,u,p,x,g,f,b,w,v,m,S,L,C,k,T,z,A,E,P,I,D,N=this,j=[],R=[],F=[],O=[],W=N.renderer;if((i=U(!0,q(N.opts),i||{})).axes&&i.axes.x&&i.axes.x.ticks&&i.axes.x.ticks.scale,b=Z,i.axes&&i.axes.y&&i.axes.y.ticks&&i.axes.y.ticks.scale,w=Z,u=H.max(0,i.padding&&i.padding.left||0),p=H.max(0,i.padding&&i.padding.right||0),x=H.max(0,i.padding&&i.padding.top||0),g=H.max(0,i.padding&&i.padding.bottom||0),o=(n=X(t)?t:N.sample(t,e,r,i)).map(function(t){return t.apply(b,w)}),W.init(),s=W.width(),a=W.height(),d=(f=N.boundingBox(o)).max.x-f.min.x+Y,h=f.max.y-f.min.y+Y,y=H.min((s-u-p)/d,(a-x-g)/h),c=(l=(new K).translate(-f.min.x,-f.min.y).scale(y).translate(u+(s-u-p-y*d)/2,x+(a-x-g-y*h)/2)).transform(new J(0,0)).apply(H.round),i.axes){if(i.axes.y&&i.axes.y.ticks&&(L="auto"===i.axes.y.ticks.step?h/4:i.axes.y.ticks.step,0<(T=H.round(y*L))))for(E=0,a<(C=c.y)&&(E-=P=H.ceil((C-a)/T),C-=P*T),C<0&&(E+=P=H.ceil(-C/T),C+=P*T),z=C===c.y?1:0,k=C+(A=-1)*T,v=w(C+=z*T),m=w(k);v<=a-g||x<=m;)x<=v&&v<=a-g&&(W.drawLine({x:u,y:a-v},{x:s-p,y:a-v},i.axes.y.ticks.size,i.axes.y.ticks.color,i.axes.y.ticks.style),R.push({y:a-v,v:(E+z)*L})),x<=m&&m<=a-g&&(W.drawLine({x:u,y:a-m},{x:s-p,y:a-m},i.axes.y.ticks.size,i.axes.y.ticks.color,i.axes.y.ticks.style),O.push({y:a-m,v:(E+A)*L})),k-=T,z++,A--,v=w(C+=T),m=w(k);if(i.axes.x&&i.axes.x.ticks&&(S="auto"===i.axes.x.ticks.step?d/4:i.axes.x.ticks.step,0<(T=H.round(y*S))))for(E=0,s<(C=c.x)&&(E-=P=H.ceil((C-s)/T),C-=P*T),C<0&&(E+=P=H.ceil(-C/T),C+=P*T),z=C===c.x?1:0,k=C+(A=-1)*T,v=b(C+=z*T),m=b(k);v<=s-p||u<=m;)u<=v&&v<=s-p&&(W.drawLine({x:v,y:a-g},{x:v,y:x},i.axes.x.ticks.size,i.axes.x.ticks.color,i.axes.x.ticks.style),j.push({x:v,v:(E+z)*S})),u<=m&&m<=a-p&&(W.drawLine({x:m,y:a-g},{x:m,y:x},i.axes.x.ticks.size,i.axes.x.ticks.color,i.axes.x.ticks.style),F.push({x:m,v:(E+A)*S})),k-=T,z++,A--,v=b(C+=T),m=b(k);i.axes.x&&c.y>=x&&c.y<=a-g&&W.drawLine({x:u,y:a-c.y},{x:s-p,y:a-c.y},i.axes.x.size,i.axes.x.color,i.axes.x.style),i.axes.y&&c.x>=u&&c.x<=s-p&&W.drawLine({x:c.x,y:x},{x:c.x,y:a-g},i.axes.y.size,i.axes.y.color,i.axes.y.style)}for(I=function(t,e,r,i){var n,o=N.tooltip;if("enter"===t)o.classList.remove("--plot-hide-tooltip"),o.classList.add("--plot-show-tooltip");else if("leave"===t)return o.classList.remove("--plot-show-tooltip"),void o.classList.add("--plot-hide-tooltip");n=(r.localX-e.pos[0].x)/(e.pos[1].x-e.pos[0].x),o.innerHTML="x: "+String(G(e.extra.p1.x,e.extra.p2.x,n))+"<br />y: "+String(G(e.extra.p1.y,e.extra.p2.y,n)),o.style.left=String(r.pageX)+"px",o.style.top=String(r.pageY)+"px"},z=0,E=(o=(o=o.map(function(t){return l.transform(t)})).map((D=a,function(t){return B(t)?D-t:(t.y=D-t.y,t)}))).length;z+1<E;z++)J.isFinite(o[z])&&J.isFinite(o[z+1])&&W.drawLine(o[z],o[z+1],i.line.size,i.line.color,i.line.style,{p1:n[z],p2:n[z+1],listener:{enter:I,leave:I,move:I}});if(i.axes){if(i.axes.x&&i.axes.x.ticks&&i.axes.x.ticks.text&&0<i.axes.x.ticks.text.size&&(j.length||F.length)){for(C=c.y>=x&&c.y<=a-g?a-c.y-5:a-g-5,T=H.ceil(j.length/3),z=0;z<j.length;z+=T)0!==j[z].v&&W.drawText({x:j[z].x+2,y:C},String(j[z].v),i.axes.x.ticks.text.size,i.axes.x.ticks.text.color);for(T=H.ceil(F.length/3),z=0;z<F.length;z+=T)0!==F[z].v&&W.drawText({x:F[z].x+2,y:C},String(F[z].v),i.axes.x.ticks.text.size,i.axes.x.ticks.text.color)}if(i.axes.y&&i.axes.y.ticks&&i.axes.y.ticks.text&&0<i.axes.y.ticks.text.size&&(R.length||O.length)){for(C=c.x>=u&&c.x<=s-p?c.x+5:u+5,T=H.ceil(R.length/3),z=0;z<R.length;z+=T)0!==R[z].v&&W.drawText({x:C,y:R[z].y-2},String(R[z].v),i.axes.y.ticks.text.size,i.axes.y.ticks.text.color);for(T=H.ceil(O.length/3),z=0;z<O.length;z+=T)0!==O[z].v&&W.drawText({x:C,y:O[z].y-2},String(O[z].v),i.axes.y.ticks.text.size,i.axes.y.ticks.text.color)}}return N},chart:function(t,e,r){var i,n,o,l,s,a,d,h,c,y,u,p,x,g,f,b,w,v,m,S,L,C,k,T,z,A,E,P,I,D=this,N=[],j=[],R=.2,F=null,O=0,W=null,X=D.renderer;if("bar"===(t=String(t||"vbar").toLowerCase())&&(t="vbar"),(r=U(!0,q(D.opts),{padding:{top:10,right:10,bottom:10,left:10}},r||{})).colors=r.colors||V(e.length),r.labels=r.labels||function(t){var e,r=new Array(t);for(e=0;e<t;e++)r[e]="Entry: "+String(e+1);return r}(e.length),k=H.max(0,r.padding&&r.padding.left||0),T=H.max(0,r.padding&&r.padding.right||0),z=H.max(0,r.padding&&r.padding.top||0),A=H.max(0,r.padding&&r.padding.bottom||0),S=e.length,X.init(),n=X.width(),o=X.height(),r.legend&&r.legend.position)if(r.legend.position=String(r.legend.position).toLowerCase(),C=1.2*(v=r.legend.text.size),R=1.5*v,I=r.labels.map(function(t){return X.createText(String(t),v,r.legend.text.color)}),"top"===r.legend.position){for(L=1,f=0;L<=S;L++){if(n-k-T<(f+=I[L-1].width+R+v)){L--;break}f+=20}for(S<L&&(L=S),f=m=0;m<L;m++)X.drawRect({x:k+f+v/2,y:z+v/2},{x:v,y:v},0,0,"transparent","solid",r.colors[m]),X.drawText({x:k+f+R,y:z+v},I[m],v,r.legend.text.color),f+=I[m].width+R+v+20;z+=I[0].height+C+20}else if("bottom"===r.legend.position){for(L=1,f=0;L<=S;L++){if(n-k-T<(f+=I[L-1].width+R+v)){L--;break}f+=20}for(S<L&&(L=S),f=m=0;m<L;m++)X.drawRect({x:k+f+v/2,y:o-A-v/2},{x:v,y:v},0,0,"transparent","solid",r.colors[m]),X.drawText({x:k+f+R,y:o-A},I[m],v,r.legend.text.color),f+=I[m].width+R+v+20;A+=I[0].height+C+20}else if("left"===r.legend.position){for(L=H.min(S,H.floor((o-z-A)/C)),f=m=u=0;m<L;m++)X.drawRect({x:k+v/2,y:z+f+v/2},{x:v,y:v},0,0,"transparent","solid",r.colors[m]),X.drawText({x:k+R,y:z+f+v},I[m],v,r.legend.text.color),f+=C,u=H.max(u,I[m].width);k+=u+R+v+20}else if("right"===r.legend.position){for(L=H.min(S,H.floor((o-z-A)/C)),f=m=u=0;m<L;m++)u=H.max(u,I[m].width);for(f=m=0;m<L;m++)X.drawRect({x:n-T-u-v-R+v/2,y:z+f+v/2},{x:v,y:v},0,0,"transparent","solid",r.colors[m]),X.drawText({x:n-T-u-v,y:z+f+v},I[m],v,r.legend.text.color),f+=C;T+=u+R+v+20}if("pie"===t||"doughnut"===t)for(v=O=0;v<e.length;v++)O+=M(e[v])?H.abs(e[v]):0;else{if(R=.2,F="hbar"===t?(r.axes&&r.axes.x?r.axes.x.ticks:null)||null:(r.axes&&r.axes.y?r.axes.y.ticks:null)||null,i=e.map(function(t,e){return B(t)?new J(e,t):t}),W=D.boundingBox(i),"hbar"===t?(F&&F.text&&0<F.text.size&&(E=o-A-2,A+=2*F.text.size),b=H.max(1,(o-A-z)/(S+R*(S-1))),y=W.min.y<0?-W.min.y:0,h=1,c=k+(d=(n-k-T)/(p=W.max.y+y))*y,w=b/2,l=(new K).scale(1,d)):"vbar"===t?(F&&F.text&&0<F.text.size&&(E=k+2,k+=2*F.text.size),b=H.max(1,(n-k-T)/(S+R*(S-1))),y=W.min.y<0?-W.min.y:0,h=1,c=o-(d=(o-z-A)/(p=W.max.y+y))*y-A,w=b/2,l=(new K).scale(1,d)):(F&&F.text&&0<F.text.size&&(E=k+2,k+=2*F.text.size),p=a=W.max.y-W.min.y+Y,d=(o-z-A)/a,h=(n-k-T)/(s=W.max.x-W.min.x+Y),c=o-(l=(new K).translate(-W.min.x,-W.min.y).scale(h,d).translate(k+(n-k-T-h*s)/2,(o-z-A-d*a)/2)).transform(new J(0,0)).apply(H.round).y-A),r.axes){if(F&&(C="auto"===F.step?p/4:F.step,0<(f=H.round(d*C))))if("hbar"===t)for(S=0,n<(x=c)&&(S-=L=H.ceil((x-n)/f),x-=L*f),x<0&&(S+=L=H.ceil(-x/f),x+=L*f),g=x+(m=-1)*f,x+=(v=x===c?1:0)*f;x<=n-T||k<=g;)k<=x&&x<=n-T&&(X.drawLine({y:z,x:x},{y:o-A,x:x},F.size,F.color,F.style),N.push({p:x,v:(S+v)*C})),k<=g&&g<=n-T&&(X.drawLine({y:z,x:g},{y:o-A,x:g},F.size,F.color,F.style),j.push({p:g,v:(S+m)*C})),x+=f,g-=f,v++,m--;else for(S=0,o<(x=c)&&(S-=L=H.ceil((x-o)/f),x+=L*f),x<0&&(S+=L=H.ceil(-x/f),x-=L*f),g=x-(m=-1)*f,x-=(v=x===c?1:0)*f;z<=x||g<=o-A;)z<=x&&x<=o-A&&(X.drawLine({x:k,y:x},{x:n-T,y:x},F.size,F.color,F.style),N.push({p:x,v:(S+v)*C})),z<=g&&g<=o-A&&(X.drawLine({x:k,y:g},{x:n-T,y:g},F.size,F.color,F.style),j.push({p:g,v:(S+m)*C})),x-=f,g+=f,v++,m--;"hbar"===t?r.axes.y&&X.drawLine({y:z,x:c},{y:o-A,x:c},r.axes.y.size,r.axes.y.color,r.axes.y.style):r.axes.x&&X.drawLine({y:c,x:k},{y:c,x:n-T},r.axes.x.size,r.axes.x.color,r.axes.x.style)}i=i.map(function(t){return l.transform(t)})}if(P=function(t,e,r,i){var n=D.tooltip;if("enter"===t)n.classList.remove("--plot-hide-tooltip"),n.classList.add("--plot-show-tooltip"),n.innerHTML=e.extra.label+"<br />"+e.extra.value;else if("leave"===t)return n.classList.remove("--plot-show-tooltip"),void n.classList.add("--plot-hide-tooltip");n.style.left=String(r.pageX)+"px",n.style.top=String(r.pageY)+"px"},"pie"===t||"doughnut"===t){for(b=.4*H.min(n-k-T,o-z-A),v=0,S=e.length,f=0;v<S;v++)M(e[v])&&(C=H.abs(e[v]),X.drawSector({x:n/2,y:o/2},b,360*f/O,360*(f+C)/O,0,"transparent","solid",r.colors[v],{label:r.labels[v],value:String(C),listener:{enter:P,leave:P,move:P}}),f+=C);"doughnut"===t&&X.drawEllipse({x:n/2,y:o/2},{x:.5*b,y:.5*b},0,0,"transparent","solid",r.background.color)}else if("line"===t){for(v=0,S=i.length;v+1<S;v++)J.isFinite(i[v])&&J.isFinite(i[v+1])&&X.drawLine({x:i[v].x,y:o-i[v].y-A},{x:i[v+1].x,y:o-i[v+1].y-A},r.line.size,r.line.color,r.line.style);for(v=0,S=i.length;v<S;v++)J.isFinite(i[v])&&X.drawPoint({x:i[v].x,y:o-i[v].y-A},r.point.size,r.colors[v],{label:r.labels[v],value:B(e[v])?String(e[v]):"("+String(e[v].x)+","+String(e[v].y)+")",listener:{enter:P,leave:P,move:P}})}else for(v=0,S=i.length,f=0;v<S;v++,f+=b)J.isFinite(i[v])&&("hbar"===t?X.drawRect({y:z+w+f+(0<v?R*f:0),x:c+i[v].y/2},{y:b,x:H.abs(i[v].y)},0,0,"transparent","solid",r.colors[v],{label:r.labels[v],value:String(e[v]),listener:{enter:P,leave:P,move:P}}):X.drawRect({x:k+w+f+(0<v?R*f:0),y:c-i[v].y/2},{x:b,y:H.abs(i[v].y)},0,0,"transparent","solid",r.colors[v],{label:r.labels[v],value:String(e[v]),listener:{enter:P,leave:P,move:P}}));if(r.axes&&F&&F.text&&0<F.text.size&&(N.length||j.length)){for(x=E,f=H.ceil(N.length/3),v=0;v<N.length;v+=f)0!==N[v].v&&X.drawText("hbar"===t?{x:N[v].p+2,y:x}:{y:N[v].p+F.text.size/2,x:x},String(N[v].v),F.text.size,F.text.color);for(f=H.ceil(j.length/3),v=0;v<j.length;v+=f)0!==j[v].v&&X.drawText("hbar"===t?{x:j[v].p+2,y:x}:{y:j[v].p+F.text.size/2,x:x},String(j[v].v),F.text.size,F.text.color)}return D}},v.VERSION="1.0.0",v.Util={clone:q,extend:U,debounce:function(r,i){var n=null;return function(){var t=this,e=arguments;clearTimeout(n),n=setTimeout(function(){r.apply(t,e)},i)}},subdivide:f,hex2rgb:function(t){return[(t=parseInt("#"===t.charAt(0)?t.slice(1):t,16))>>16&255,t>>8&255,255&t]},rgb2hex:C,hsb2rgb:s,rgb2hsb:function(t){var e=0,r=0,i=0,n=t[0],o=t[1],l=t[2],s=H.min(n,o,l),a=H.max(n,o,l),d=a-s;i=a;e=0!=(r=0!=a?255*d/a:0)?n===a?(o-l)/d:o===a?2+(l-n)/d:4+(n-o)/d:-1;(e*=60)<0&&(e+=360);return r=100*r/255,i=100*i/255,[H.round(e),H.round(r),H.round(i)]},palette:V},v.Point=J,v.Matrix=K,v.Renderer=w,v}.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[e]})}("undefined"!=typeof self?self:this,"Plot");